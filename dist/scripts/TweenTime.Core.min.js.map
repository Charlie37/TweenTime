{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///TweenTime.Core.min.js","webpack:///webpack/bootstrap edbd48800483af040177","webpack:///./Core.js","webpack:///external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}","webpack:///./core/Utils.js","webpack:///./core/Timer.js","webpack:///./core/Orchestrator.js","webpack:///external {\"root\":\"signals\",\"commonjs\":\"./signals\",\"amd\":\"signals\"}","webpack:///external {\"root\":\"TweenMax\",\"commonjs\":\"TweenMax\",\"commonjs2\":\"TweenMax\",\"amd\":\"TweenMax\"}"],"names":["root","factory","exports","module","require","undefined","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_14__","__WEBPACK_EXTERNAL_MODULE_24__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_","Utils","Timer","Orchestrator","Core","data","options","timer","orchestrator","prototype","getItem","item_id","find","item","getProperty","prop_name","item_id_or_obj","properties","property","name","getValues","values","getValue","getKeyAt","time_in_seconds","keys","key","time","setValue","new_val","getCurrentTime","val","push","sortKeys","getTotalDuration",1,9,"formatMinutes","d","hours","Math","floor","minutes","seconds","output","getClosestTime","objectId","property_name","tolerance","timer_time","abs","i","length","start","end","j","prop","k","getPreviousKey","prevKey","compare","a","b","sort","guid","s4","random","toString","substring",10,"Signals","_this","totalDuration","is_playing","last_timeStamp","last_time","updated","Signal","statusChanged","durationChanged","seeked","window","requestAnimationFrame","timestamp","update","getDuration","setDuration","dispatch","play","stop","toggle","seek","_this2","elapsed",11,"TweenMax","bind","mainTimeline","TimelineMax","paused","onUpdate","add","getEasing","ease","ease_index","split","Quad","easeOut","initSpecialProperties","_domHelper","document","createElement","property_key","type","css","style","initItemValues","has_dirty_items","_timeline","_isDirty","clear","propertyTimeline","propName","first_key","tween_time","min","tween_duration","easing","data_target","tween","to","key_index","next_key",14,24],"mappings":"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","file":"TweenTime.Core.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(undefined), require(\"TweenMax\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash\", \"signals\", \"TweenMax\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"lodash\"), require(\"./signals\"), require(\"TweenMax\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"_\"], root[\"signals\"], root[\"TweenMax\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_24__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(undefined), require(\"TweenMax\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash\", \"signals\", \"TweenMax\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"lodash\"), require(\"./signals\"), require(\"TweenMax\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"_\"], root[\"signals\"], root[\"TweenMax\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_14__, __WEBPACK_EXTERNAL_MODULE_24__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar _ = __webpack_require__(1);\n\t\n\tvar Utils = __webpack_require__(9)[\"default\"];\n\tvar Timer = __webpack_require__(10)[\"default\"];\n\tvar Orchestrator = __webpack_require__(11)[\"default\"];\n\tvar Core = (function () {\n\t  var Core = function Core(data, options) {\n\t    if (options === undefined) options = {};\n\t    this.data = data;\n\t    this.timer = new Timer(options);\n\t    this.orchestrator = new Orchestrator(this.timer, this.data);\n\t  };\n\t\n\t  Core.prototype.getItem = function (item_id) {\n\t    // In case we passed the item object directly return it.\n\t    if (item_id != null && typeof item_id == \"object\") {\n\t      return item_id;\n\t    }\n\t\n\t    return _.find(this.data, function (item) {\n\t      return item.id == item_id;\n\t    });\n\t  };\n\t\n\t  Core.prototype.getProperty = function (prop_name, item_id_or_obj) {\n\t    // If we passed the item name get the object from it.\n\t    item_id_or_obj = this.getItem(item_id_or_obj);\n\t\n\t    // Return false if we have no item\n\t    if (!item_id_or_obj) {\n\t      return false;\n\t    }\n\t\n\t    return _.find(item_id_or_obj.properties, function (property) {\n\t      return property.name == prop_name;\n\t    });\n\t  };\n\t\n\t  Core.prototype.getValues = function (item_id_or_obj) {\n\t    // If we passed the item name get the object from it.\n\t    item_id_or_obj = this.getItem(item_id_or_obj);\n\t\n\t    // Return false if we have no item\n\t    if (!item_id_or_obj) {\n\t      return undefined;\n\t    }\n\t\n\t    return item_id_or_obj.values;\n\t  };\n\t\n\t  Core.prototype.getValue = function (prop_name, item_id_or_obj) {\n\t    // If we passed the item name get the object from it.\n\t    var values = this.getValues(item_id_or_obj);\n\t\n\t    // Return false if we have no item\n\t    if (!values) {\n\t      return undefined;\n\t    }\n\t\n\t    if (values[prop_name] != null) {\n\t      return values[prop_name];\n\t    } else {\n\t      return undefined;\n\t    }\n\t  };\n\t\n\t  Core.prototype.getKeyAt = function (property, time_in_seconds) {\n\t    return _.find(property.keys, function (key) {\n\t      return key.time == time_in_seconds;\n\t    });\n\t  };\n\t\n\t  Core.prototype.setValue = function (property, new_val, time_in_seconds) {\n\t    if (time_in_seconds === undefined) time_in_seconds = false;\n\t    if (time_in_seconds === false) {\n\t      time_in_seconds = this.timer.getCurrentTime() / 1000;\n\t    }\n\t    var key = this.getKeyAt(property, time_in_seconds);\n\t\n\t    if (key) {\n\t      // If we found a key, simply update the value.\n\t      key.val = new_val;\n\t    } else {\n\t      // If no key, create it and add it to the array.\n\t      key = { val: new_val, time: time_in_seconds };\n\t      property.keys.push(key);\n\t      // Also sort the keys.\n\t      property.keys = Utils.sortKeys(property.keys);\n\t    }\n\t  };\n\t\n\t  Core.prototype.getTotalDuration = function () {\n\t    return this.orchestrator.getTotalDuration();\n\t  };\n\t\n\t  return Core;\n\t})();\n\t\n\texports[\"default\"] = Core;\n\t\n\t\n\tmodule.exports = Core;\n\n/***/ },\n\n/***/ 1:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n\n/***/ 9:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Utils = (function () {\n\t  var Utils = function Utils() {};\n\t\n\t  Utils.formatMinutes = function (d) {\n\t    // convert milliseconds to seconds\n\t    d = d / 1000;\n\t    var hours = Math.floor(d / 3600);\n\t    var minutes = Math.floor((d - (hours * 3600)) / 60);\n\t    var seconds = d - (minutes * 60);\n\t    var output = seconds + \"s\";\n\t    if (minutes) {\n\t      output = minutes + \"m \" + output;\n\t    }\n\t    if (hours) {\n\t      output = hours + \"h \" + output;\n\t    }\n\t    return output;\n\t  };\n\t\n\t  Utils.getClosestTime = function (data, time, objectId, property_name, timer, tolerance) {\n\t    if (objectId === undefined) objectId = false;\n\t    if (property_name === undefined) property_name = false;\n\t    if (timer === undefined) timer = false;\n\t    if (tolerance === undefined) tolerance = 0.1;\n\t    if (timer) {\n\t      var timer_time = timer.getCurrentTime() / 1000;\n\t      if (Math.abs(timer_time - time) <= tolerance) {\n\t        return timer_time;\n\t      }\n\t    }\n\t\n\t    if (objectId || property_name) {\n\t      for (var i = 0; i < data.length; i++) {\n\t        var item = data[i];\n\t        // Don't match item with itself, but allow property to match item start/end.\n\t        if (item.id != objectId || property_name) {\n\t          // First check start & end.\n\t          if (Math.abs(item.start - time) <= tolerance) {\n\t            return item.start;\n\t          }\n\t\n\t          if (Math.abs(item.end - time) <= tolerance) {\n\t            return item.end;\n\t          }\n\t        }\n\t\n\t        // Test properties keys\n\t        for (var j = 0; j < item.properties.length; j++) {\n\t          var prop = item.properties[j];\n\t          // Don't match property with itself.\n\t          if (prop.keys && (item.id != objectId || prop.name != property_name)) {\n\t            for (var k = 0; k < prop.keys; k++) {\n\t              var key = prop.keys[k];\n\t              if (Math.abs(key.time - time) <= tolerance) {\n\t                return key.time;\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t    }\n\t    return false;\n\t  };\n\t\n\t  Utils.getPreviousKey = function (keys, time) {\n\t    var prevKey = false;\n\t    for (var i = 0; i < keys.length; i++) {\n\t      var key = keys[i];\n\t      if (key.time < time) {\n\t        prevKey = key;\n\t      } else {\n\t        return prevKey;\n\t      }\n\t    }\n\t    return prevKey;\n\t  };\n\t\n\t  Utils.sortKeys = function (keys) {\n\t    var compare = function (a, b) {\n\t      if (a.time < b.time) {\n\t        return -1;\n\t      }\n\t      if (a.time > b.time) {\n\t        return 1;\n\t      }\n\t      return 0;\n\t    };\n\t    return keys.sort(compare);\n\t  };\n\t\n\t  Utils.guid = function () {\n\t    var s4 = function () {\n\t      return Math.floor((1 + Math.random()) * 65536).toString(16).substring(1);\n\t    };\n\t    return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n\t  };\n\t\n\t  return Utils;\n\t})();\n\t\n\texports[\"default\"] = Utils;\n\n/***/ },\n\n/***/ 10:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Signals = __webpack_require__(14);\n\t\n\tvar Timer = (function () {\n\t  var Timer = function Timer(options) {\n\t    var _this = this;\n\t    if (options === undefined) options = {};\n\t    // in millisecond\n\t    this.totalDuration = options.totalDuration || 240 * 1000;\n\t    // Use an array for the time for easier d3.js integration (used as data for timeseeker).\n\t    this.time = [0];\n\t    this.is_playing = false;\n\t    this.last_timeStamp = -1;\n\t    this.last_time = -1;\n\t    this.updated = new Signals.Signal();\n\t    this.statusChanged = new Signals.Signal();\n\t    this.durationChanged = new Signals.Signal();\n\t    this.seeked = new Signals.Signal();\n\t    window.requestAnimationFrame(function (timestamp) {\n\t      return _this.update(timestamp);\n\t    });\n\t  };\n\t\n\t  Timer.prototype.getCurrentTime = function () {\n\t    return this.time[0];\n\t  };\n\t\n\t  Timer.prototype.getDuration = function () {\n\t    return this.totalDuration / 1000;\n\t  };\n\t\n\t  Timer.prototype.setDuration = function (seconds) {\n\t    this.totalDuration = seconds * 1000;\n\t    this.durationChanged.dispatch(seconds);\n\t  };\n\t\n\t  Timer.prototype.play = function () {\n\t    this.is_playing = true;\n\t    this.statusChanged.dispatch(this.is_playing);\n\t  };\n\t\n\t  Timer.prototype.stop = function () {\n\t    this.is_playing = false;\n\t    this.statusChanged.dispatch(this.is_playing);\n\t  };\n\t\n\t  Timer.prototype.toggle = function () {\n\t    this.is_playing = !this.is_playing;\n\t    this.statusChanged.dispatch(this.is_playing);\n\t  };\n\t\n\t  Timer.prototype.seek = function (time) {\n\t    this.time[0] = time[0];\n\t    this.seeked.dispatch(this.time[0]);\n\t  };\n\t\n\t  Timer.prototype.update = function (timestamp) {\n\t    var _this2 = this;\n\t    // Init timestamp\n\t    if (this.last_timeStamp == -1) {\n\t      this.last_timeStamp = timestamp;\n\t    }\n\t    var elapsed = timestamp - this.last_timeStamp;\n\t\n\t    if (this.is_playing) {\n\t      this.time[0] += elapsed;\n\t    }\n\t\n\t    if (this.time[0] >= this.totalDuration) {\n\t      // Stop timer when reaching the end.\n\t      this.time[0] = this.totalDuration;\n\t      this.stop();\n\t    }\n\t\n\t    this.updated.dispatch(this.time[0]);\n\t\n\t    this.last_timeStamp = timestamp;\n\t    this.last_time = this.time[0];\n\t    window.requestAnimationFrame(function (timestamp) {\n\t      return _this2.update(timestamp);\n\t    });\n\t  };\n\t\n\t  return Timer;\n\t})();\n\t\n\texports[\"default\"] = Timer;\n\n/***/ },\n\n/***/ 11:\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Signals = __webpack_require__(14);\n\tvar TweenMax = __webpack_require__(24);\n\t\n\tvar Orchestrator = (function () {\n\t  var Orchestrator = function Orchestrator(timer, data) {\n\t    this.update = this.update.bind(this);\n\t    this.timer = timer;\n\t    this.data = data;\n\t    this.mainTimeline = new TimelineMax({ paused: true });\n\t    this.onUpdate = new Signals.Signal();\n\t    this.timer.updated.add(this.update);\n\t    this.update(0);\n\t  };\n\t\n\t  Orchestrator.prototype.getTotalDuration = function () {\n\t    return this.mainTimeline.totalDuration();\n\t  };\n\t\n\t  Orchestrator.prototype.getEasing = function (key) {\n\t    if (key === undefined) key = false;\n\t    if (key && key.ease) {\n\t      var ease_index = key.ease.split(\".\");\n\t      if (ease_index.length == 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]) {\n\t        return window[ease_index[0]][ease_index[1]];\n\t      }\n\t    }\n\t    return Quad.easeOut;\n\t  };\n\t\n\t  Orchestrator.prototype.initSpecialProperties = function (item) {\n\t    // Add a dom element for color tweening and other css properties.\n\t    item._domHelper = document.createElement(\"div\");\n\t    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t      var property = item.properties[property_key];\n\t      // Setup special properties\n\t      if (property.type && property.type == \"color\") {\n\t        // If the property is a color mark it as css\n\t        property.css = true;\n\t      }\n\t\n\t      if (property.css) {\n\t        // If property is a css or a color value apply it to the domHelper element.\n\t        item._domHelper.style[property.name] = property.val;\n\t      }\n\t    }\n\t  };\n\t\n\t  Orchestrator.prototype.initItemValues = function (item) {\n\t    item.values = {};\n\t    //item._isDirty = true\n\t    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t      var property = item.properties[property_key];\n\t      if (property.keys.length) {\n\t        // Take the value of the first key as initial value.\n\t        // this.todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n\t        property.val = property.keys[0].val;\n\t      }\n\t      item.values[property.name] = property.val;\n\t    }\n\t  };\n\t\n\t  Orchestrator.prototype.update = function (timestamp) {\n\t    var seconds = timestamp / 1000;\n\t    var has_dirty_items = false;\n\t\n\t    for (var i = 0; i < this.data.length; i++) {\n\t      var item = this.data[i];\n\t      if (!item._domHelper) {\n\t        this.initSpecialProperties(item);\n\t      }\n\t\n\t      // create the values object to contain all properties\n\t      if (!item.values) {\n\t        this.initItemValues(item);\n\t      }\n\t\n\t      // Create the timeline if needed\n\t      if (!item._timeline) {\n\t        item._timeline = new TimelineMax();\n\t        this.mainTimeline.add(item._timeline, 0);\n\t        item._isDirty = true;\n\t      }\n\t\n\t      if (item._isDirty) {\n\t        has_dirty_items = true;\n\t      }\n\t\n\t      if (item._timeline && item._isDirty && item.properties) {\n\t        item._isDirty = false;\n\t        //item._timeline.clear();\n\t\n\t        for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t          var property = item.properties[property_key];\n\t          if (property._timeline) {\n\t            property._timeline.clear();\n\t          } else {\n\t            property._timeline = new TimelineMax();\n\t            item._timeline.add(property._timeline, 0);\n\t          }\n\t\n\t          var propertyTimeline = property._timeline;\n\t          var propName = property.name;\n\t          // Add a inital key, even if there is no animation to set the value from time 0.\n\t          var first_key = property.keys.length ? property.keys[0] : false;\n\t\n\t          var tween_time = 0;\n\t          if (first_key) {\n\t            tween_time = Math.min(-1, first_key.time - 0.1);\n\t          }\n\t\n\t          var tween_duration = 0;\n\t          var val = {};\n\t          var easing = this.getEasing();\n\t          val.ease = easing;\n\t          var data_target = item.values;\n\t          if (property.css) {\n\t            val.css = {};\n\t            val.css[propName] = first_key ? first_key.val : property.val;\n\t            data_target = item._domHelper;\n\t          } else {\n\t            val[propName] = first_key ? first_key.val : property.val;\n\t          }\n\t\n\t          var tween = TweenMax.to(data_target, tween_duration, val);\n\t          propertyTimeline.add(tween, tween_time);\n\t\n\t          for (var key_index = 0; key_index < property.keys.length; key_index++) {\n\t            var key = property.keys[key_index];\n\t\n\t            if (key_index < property.keys.length - 1) {\n\t              var next_key = property.keys[key_index + 1];\n\t              tween_duration = next_key.time - key.time;\n\t\n\t              val = {};\n\t              easing = this.getEasing(next_key);\n\t              val.ease = easing;\n\t              if (property.css) {\n\t                val.css = {};\n\t                val.css[propName] = next_key.val;\n\t              } else {\n\t                val[propName] = next_key.val;\n\t              }\n\t\n\t              tween = TweenMax.to(data_target, tween_duration, val);\n\t              propertyTimeline.add(tween, key.time);\n\t            }\n\t          }\n\t\n\t          // Directly seek the property timeline to update the value.\n\t          propertyTimeline.seek(seconds);\n\t        }\n\t        // Force main timeline to refresh but never try to go to < 0\n\t        // to prevent glitches when current time is 0.\n\t        if (seconds > 0) {\n\t          seconds = seconds - 1e-7;\n\t        } else {\n\t          seconds = seconds + 1e-7;\n\t        }\n\t      }\n\t    }\n\t\n\t    // Finally update the main timeline.\n\t    this.mainTimeline.seek(seconds);\n\t\n\t    // update the css properties.\n\t    for (var i = 0; i < this.data.length; i++) {\n\t      var item = this.data[i];\n\t      for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t        var property = item.properties[property_key];\n\t        if (property.css) {\n\t          // Only css values.\n\t          item.values[property.name] = item._domHelper.style[property.name];\n\t        }\n\t      }\n\t    }\n\t\n\t    if (has_dirty_items) {\n\t      this.onUpdate.dispatch();\n\t    }\n\t  };\n\t\n\t  return Orchestrator;\n\t})();\n\t\n\texports[\"default\"] = Orchestrator;\n\n/***/ },\n\n/***/ 14:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n/***/ },\n\n/***/ 24:\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_24__;\n\n/***/ }\n\n/******/ })\n});\n\n\n\n/** WEBPACK FOOTER **\n ** TweenTime.Core.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap edbd48800483af040177\n **/","var _ = require('lodash');\n\nimport Utils from './core/Utils';\nimport Timer from './core/Timer';\nimport Orchestrator from './core/Orchestrator';\n\nexport default class Core {\n  constructor(data, options = {}) {\n    this.data = data;\n    this.timer = new Timer(options);\n    this.orchestrator = new Orchestrator(this.timer, this.data);\n  }\n\n  getItem(item_id) {\n    // In case we passed the item object directly return it.\n    if (item_id != null && typeof item_id == 'object') {\n      return item_id;\n    }\n\n    return _.find(this.data, (item) => item.id == item_id);\n  }\n\n  getProperty(prop_name, item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    item_id_or_obj = this.getItem(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!item_id_or_obj) {\n      return false;\n    }\n\n    return _.find(item_id_or_obj.properties, property => property.name == prop_name);\n  }\n\n  getValues(item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    item_id_or_obj = this.getItem(item_id_or_obj)\n\n    // Return false if we have no item\n    if (!item_id_or_obj) {\n      return undefined;\n    }\n\n    return item_id_or_obj.values;\n  }\n\n  getValue(prop_name, item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    var values = this.getValues(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!values) {\n      return undefined;\n    }\n\n    if (values[prop_name] != null) {\n      return values[prop_name];\n    }\n    else {\n      return undefined;\n    }\n  }\n\n  getKeyAt(property, time_in_seconds) {\n    return _.find(property.keys, key => key.time == time_in_seconds);\n  }\n\n  setValue(property, new_val, time_in_seconds = false) {\n    if (time_in_seconds === false) {\n      time_in_seconds = this.timer.getCurrentTime() / 1000;\n    }\n    var key = this.getKeyAt(property, time_in_seconds);\n\n    if (key) {\n      // If we found a key, simply update the value.\n      key.val = new_val;\n    }\n    else {\n      // If no key, create it and add it to the array.\n      key = {val: new_val, time: time_in_seconds};\n      property.keys.push(key);\n      // Also sort the keys.\n      property.keys = Utils.sortKeys(property.keys);\n    }\n  }\n\n  getTotalDuration() {\n    return this.orchestrator.getTotalDuration();\n  }\n}\n\nmodule.exports = Core;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Core.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}\n ** module id = 1\n ** module chunks = 0 1\n **/","export default class Utils {\n  static formatMinutes(d) {\n    // convert milliseconds to seconds\n    d = d / 1000;\n    var hours = Math.floor(d / 3600);\n    var minutes = Math.floor((d - (hours * 3600)) / 60);\n    var seconds = d - (minutes * 60);\n    var output = seconds + \"s\";\n    if (minutes) {\n      output = minutes + \"m \" + output;\n    }\n    if (hours) {\n      output = hours + \"h \" + output;\n    }\n    return output;\n  }\n\n  static getClosestTime(data, time, objectId = false, property_name = false, timer = false, tolerance = 0.1) {\n    if (timer) {\n      var timer_time = timer.getCurrentTime() / 1000;\n      if (Math.abs(timer_time - time) <= tolerance) {\n        return timer_time;\n      }\n    }\n\n    if (objectId || property_name) {\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        // Don't match item with itself, but allow property to match item start/end.\n        if (item.id != objectId || property_name) {\n          // First check start & end.\n          if (Math.abs(item.start - time) <= tolerance) {\n            return item.start\n          }\n\n          if (Math.abs(item.end - time) <= tolerance) {\n            return item.end\n          }\n        }\n\n        // Test properties keys\n        for (var j = 0; j < item.properties.length; j++) {\n          var prop = item.properties[j];\n          // Don't match property with itself.\n          if (prop.keys && (item.id != objectId || prop.name != property_name)) {\n            for (var k = 0; k < prop.keys; k++) {\n              var key = prop.keys[k];\n              if (Math.abs(key.time - time) <= tolerance) {\n                return key.time;\n              }\n            }\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  static getPreviousKey(keys, time) {\n    var prevKey = false;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (key.time < time) {\n        prevKey = key;\n      }\n      else {\n        return prevKey;\n      }\n    }\n    return prevKey;\n  }\n\n  static sortKeys(keys) {\n    var compare = function (a, b) {\n      if (a.time < b.time) {\n        return -1;\n      }\n      if (a.time > b.time) {\n        return 1;\n      }\n      return 0;\n    }\n    return keys.sort(compare);\n  }\n\n  static guid() {\n    var s4 = function() {\n      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    }\n    return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Utils.js\n **/","let Signals = require('js-signals');\n\nexport default class Timer {\n  constructor (options = {}) {\n    // in millisecond\n    this.totalDuration = options.totalDuration || 240 * 1000;\n    // Use an array for the time for easier d3.js integration (used as data for timeseeker).\n    this.time = [0];\n    this.is_playing = false;\n    this.last_timeStamp = -1;\n    this.last_time = -1;\n    this.updated = new Signals.Signal();\n    this.statusChanged = new Signals.Signal();\n    this.durationChanged = new Signals.Signal();\n    this.seeked = new Signals.Signal();\n    window.requestAnimationFrame((timestamp) => this.update(timestamp));\n  }\n\n  getCurrentTime() {\n    return this.time[0];\n  }\n\n  getDuration() {\n    return this.totalDuration / 1000;\n  }\n\n  setDuration(seconds) {\n    this.totalDuration = seconds * 1000;\n    this.durationChanged.dispatch(seconds);\n  }\n\n  play() {\n    this.is_playing = true;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  stop() {\n    this.is_playing = false;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  toggle() {\n    this.is_playing = !this.is_playing;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  seek(time) {\n    this.time[0] = time[0];\n    this.seeked.dispatch(this.time[0]);\n  }\n\n  update(timestamp) {\n    // Init timestamp\n    if (this.last_timeStamp == -1) {\n      this.last_timeStamp = timestamp;\n    }\n    var elapsed = timestamp - this.last_timeStamp;\n\n    if (this.is_playing) {\n      this.time[0] += elapsed;\n    }\n\n    if (this.time[0] >= this.totalDuration) {\n      // Stop timer when reaching the end.\n      this.time[0] = this.totalDuration;\n      this.stop();\n    }\n\n    this.updated.dispatch(this.time[0]);\n\n    this.last_timeStamp = timestamp;\n    this.last_time = this.time[0];\n    window.requestAnimationFrame((timestamp) => this.update(timestamp));\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Timer.js\n **/","let Signals = require('js-signals');\nlet TweenMax = require('gsap');\n\nexport default class Orchestrator {\n  constructor(timer, data) {\n    this.update = this.update.bind(this);\n    this.timer = timer;\n    this.data = data;\n    this.mainTimeline = new TimelineMax({paused: true})\n    this.onUpdate = new Signals.Signal()\n    this.timer.updated.add(this.update)\n    this.update(0)\n  }\n\n  getTotalDuration() {\n    return this.mainTimeline.totalDuration();\n  }\n\n  getEasing(key = false) {\n    if (key && key.ease) {\n      var ease_index = key.ease.split('.');\n      if (ease_index.length == 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]) {\n        return window[ease_index[0]][ease_index[1]];\n      }\n    }\n    return Quad.easeOut;\n  }\n\n  initSpecialProperties(item) {\n    // Add a dom element for color tweening and other css properties.\n    item._domHelper = document.createElement('div');\n    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n      var property = item.properties[property_key];\n      // Setup special properties\n      if (property.type && property.type == \"color\") {\n        // If the property is a color mark it as css\n        property.css = true;\n      }\n\n      if (property.css) {\n        // If property is a css or a color value apply it to the domHelper element.\n        item._domHelper.style[property.name] = property.val;\n      }\n    }\n  }\n\n  initItemValues(item) {\n    item.values = {};\n    //item._isDirty = true\n    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n      var property = item.properties[property_key];\n      if (property.keys.length) {\n        // Take the value of the first key as initial value.\n        // this.todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n        property.val = property.keys[0].val;\n      }\n      item.values[property.name] = property.val;\n    }\n  }\n\n  update(timestamp) {\n    var seconds = timestamp / 1000;\n    var has_dirty_items = false;\n\n    for (var i = 0; i < this.data.length; i++) {\n      var item = this.data[i];\n      if (!item._domHelper) {\n        this.initSpecialProperties(item);\n      }\n\n      // create the values object to contain all properties\n      if (!item.values) {\n        this.initItemValues(item);\n      }\n\n      // Create the timeline if needed\n      if (!item._timeline) {\n        item._timeline = new TimelineMax();\n        this.mainTimeline.add(item._timeline, 0);\n        item._isDirty = true;\n      }\n\n      if (item._isDirty) {\n        has_dirty_items = true\n      }\n\n      if (item._timeline && item._isDirty && item.properties) {\n        item._isDirty = false;\n        //item._timeline.clear();\n\n        for (var property_key = 0; property_key < item.properties.length; property_key++) {\n          var property = item.properties[property_key];\n          if (property._timeline) {\n            property._timeline.clear();\n          }\n          else {\n            property._timeline = new TimelineMax();\n            item._timeline.add(property._timeline, 0);\n          }\n\n          var propertyTimeline = property._timeline;\n          var propName = property.name;\n          // Add a inital key, even if there is no animation to set the value from time 0.\n          var first_key = property.keys.length ? property.keys[0] : false;\n\n          var tween_time = 0;\n          if (first_key) {\n            tween_time = Math.min(-1, first_key.time - 0.1);\n          }\n\n          var tween_duration = 0;\n          var val = {};\n          var easing = this.getEasing();\n          val.ease = easing;\n          var data_target = item.values;\n          if (property.css) {\n            val.css = {};\n            val.css[propName] = first_key ? first_key.val : property.val;\n            data_target = item._domHelper;\n          }\n          else {\n            val[propName] = first_key ? first_key.val : property.val;\n          }\n\n          var tween = TweenMax.to(data_target, tween_duration, val);\n          propertyTimeline.add(tween, tween_time);\n\n          for (var key_index = 0; key_index < property.keys.length; key_index++) {\n            var key = property.keys[key_index];\n\n            if (key_index < property.keys.length - 1) {\n              var next_key = property.keys[key_index + 1];\n              tween_duration = next_key.time - key.time;\n\n              val = {};\n              easing = this.getEasing(next_key);\n              val.ease = easing;\n              if (property.css) {\n                val.css = {};\n                val.css[propName] = next_key.val;\n              }\n              else {\n                val[propName] = next_key.val;\n              }\n\n              tween = TweenMax.to(data_target, tween_duration, val);\n              propertyTimeline.add(tween, key.time);\n            }\n          }\n\n          // Directly seek the property timeline to update the value.\n          propertyTimeline.seek(seconds);\n        }\n        // Force main timeline to refresh but never try to go to < 0\n        // to prevent glitches when current time is 0.\n        if (seconds > 0) {\n          seconds = seconds - 0.0000001;\n        }\n        else {\n          seconds = seconds + 0.0000001\n        }\n      }\n    }\n\n    // Finally update the main timeline.\n    this.mainTimeline.seek(seconds);\n\n    // update the css properties.\n    for (var i = 0; i < this.data.length; i++) {\n      var item = this.data[i];\n      for (var property_key = 0; property_key < item.properties.length; property_key++) {\n        var property = item.properties[property_key];\n        if (property.css) {\n          // Only css values.\n          item.values[property.name] = item._domHelper.style[property.name];\n        }\n      }\n    }\n\n    if (has_dirty_items) {\n      this.onUpdate.dispatch();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Orchestrator.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"signals\",\"commonjs\":\"./signals\",\"amd\":\"signals\"}\n ** module id = 14\n ** module chunks = 0 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_24__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"TweenMax\",\"commonjs\":\"TweenMax\",\"commonjs2\":\"TweenMax\",\"amd\":\"TweenMax\"}\n ** module id = 24\n ** module chunks = 0\n **/"],"sourceRoot":""}