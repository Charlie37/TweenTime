{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///TweenTime.Core.min.js","webpack:///webpack/bootstrap 0ef0f654a923fd379fe9","webpack:///./Core.js","webpack:////Users/david/Sites/TweenTime/~/6to5/runtime.js","webpack:///external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}","webpack:///./core/Utils.js","webpack:///./core/Timer.js","webpack:///external {\"root\":\"signals\",\"commonjs\":\"./signals\",\"amd\":\"signals\"}","webpack:///./core/Orchestrator.js","webpack:///external {\"root\":\"TweenMax\",\"commonjs\":\"TweenMax\",\"commonjs2\":\"TweenMax\",\"amd\":\"TweenMax\"}"],"names":["root","factory","exports","module","require","undefined","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_5__","__WEBPACK_EXTERNAL_MODULE_7__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_","Utils","Timer","Orchestrator","Core","data","options","timer","orchestrator","prototype","getItem","item_id","find","item","getProperty","prop_name","item_id_or_obj","properties","property","name","getValues","values","getValue","getKeyAt","time_in_seconds","keys","key","time","setValue","new_val","getCurrentTime","val","length","_property","defaultEase","ease","push","sortKeys","getTotalDuration","global","to5Runtime","child","parent","Object","create","constructor","value","enumerable","writable","configurable","__proto__","classProps","staticProps","instanceProps","defineProperties","applyConstructor","Constructor","args","instance","result","apply","taggedTemplateLiteral","strings","raw","interopRequire","obj","toArray","arr","Array","isArray","from","objectSpread","target","i","indexOf","hasOwnProperty","hasOwn","slice","self","formatMinutes","d","hours","Math","floor","minutes","seconds","output","getClosestTime","objectId","property_name","tolerance","timer_time","abs","start","end","j","prop","k","getPreviousKey","prevKey","compare","a","b","sort","guid","s4","random","toString","substring","Signals","_this","totalDuration","is_playing","last_timeStamp","last_time","updated","Signal","statusChanged","durationChanged","seeked","window","requestAnimationFrame","timestamp","update","getDuration","setDuration","dispatch","play","stop","toggle","seek","_this2","elapsed","TweenMax","bind","mainTimeline","TimelineMax","paused","onUpdate","add","getEasing","ease_index","split","Quad","easeOut","initSpecialProperties","_domHelper","document","createElement","property_key","type","css","style","initItemValues","has_dirty_items","_timeline","_isDirty","clear","propertyTimeline","propName","data_target","first_key","tween_time","min","tween_duration","easing","tween","to","key_index","next_key"],"mappings":"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","file":"TweenTime.Core.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(undefined), require(\"TweenMax\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash\", \"signals\", \"TweenMax\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"lodash\"), require(\"./signals\"), require(\"TweenMax\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"_\"], root[\"signals\"], root[\"TweenMax\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(undefined), require(\"TweenMax\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash\", \"signals\", \"TweenMax\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"lodash\"), require(\"./signals\"), require(\"TweenMax\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"_\"], root[\"signals\"], root[\"TweenMax\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\t__webpack_require__(1);\n\t\n\tvar _ = __webpack_require__(2);\n\t\n\tvar Utils = __webpack_require__(3)[\"default\"];\n\tvar Timer = __webpack_require__(4)[\"default\"];\n\tvar Orchestrator = __webpack_require__(6)[\"default\"];\n\tvar Core = (function () {\n\t  var Core = function Core(data, options) {\n\t    if (options === undefined) options = {};\n\t    this.data = data;\n\t    this.options = options;\n\t    this.timer = new Timer(options);\n\t    this.orchestrator = new Orchestrator(this.timer, this.data);\n\t  };\n\t\n\t  Core.prototype.getItem = function (item_id) {\n\t    // In case we passed the item object directly return it.\n\t    if (item_id && typeof item_id == \"object\") {\n\t      return item_id;\n\t    }\n\t\n\t    return _.find(this.data, function (item) {\n\t      return item.id == item_id;\n\t    });\n\t  };\n\t\n\t  Core.prototype.getProperty = function (prop_name, item_id_or_obj) {\n\t    // If we passed the item name get the object from it.\n\t    item_id_or_obj = this.getItem(item_id_or_obj);\n\t\n\t    // Return false if we have no item\n\t    if (!item_id_or_obj) {\n\t      return false;\n\t    }\n\t\n\t    return _.find(item_id_or_obj.properties, function (property) {\n\t      return property.name == prop_name;\n\t    });\n\t  };\n\t\n\t  Core.prototype.getValues = function (item_id_or_obj) {\n\t    // If we passed the item name get the object from it.\n\t    item_id_or_obj = this.getItem(item_id_or_obj);\n\t\n\t    // Return false if we have no item\n\t    if (!item_id_or_obj) {\n\t      return undefined;\n\t    }\n\t\n\t    return item_id_or_obj.values;\n\t  };\n\t\n\t  Core.prototype.getValue = function (prop_name, item_id_or_obj) {\n\t    // If we passed the item name get the object from it.\n\t    var values = this.getValues(item_id_or_obj);\n\t\n\t    // Return false if we have no item\n\t    if (!values) {\n\t      return undefined;\n\t    }\n\t\n\t    if (values[prop_name] !== undefined) {\n\t      return values[prop_name];\n\t    } else {\n\t      return undefined;\n\t    }\n\t  };\n\t\n\t  Core.prototype.getKeyAt = function (property, time_in_seconds) {\n\t    return _.find(property.keys, function (key) {\n\t      return key.time == time_in_seconds;\n\t    });\n\t  };\n\t\n\t  Core.prototype.setValue = function (property, new_val, time_in_seconds) {\n\t    if (time_in_seconds === undefined) time_in_seconds = false;\n\t    if (time_in_seconds === false) {\n\t      time_in_seconds = this.timer.getCurrentTime() / 1000;\n\t    }\n\t    var key = this.getKeyAt(property, time_in_seconds);\n\t\n\t    if (key) {\n\t      // If we found a key, simply update the value.\n\t      key.val = new_val;\n\t    } else {\n\t      if (property.keys.length === 0) {\n\t        // If the property doesn't have any key simply the the value.\n\t        property.val = new_val;\n\t      } else {\n\t        // If we are not on a key but the property has other keys,\n\t        // create it and add it to the keys array.\n\t        key = { val: new_val, time: time_in_seconds, _property: property };\n\t        if (this.options.defaultEase) {\n\t          key.ease = this.options.defaultEase;\n\t        }\n\t        property.keys.push(key);\n\t        // Also sort the keys.\n\t        property.keys = Utils.sortKeys(property.keys);\n\t      }\n\t    }\n\t  };\n\t\n\t  Core.prototype.getTotalDuration = function () {\n\t    return this.orchestrator.getTotalDuration();\n\t  };\n\t\n\t  return Core;\n\t})();\n\t\n\tmodule.exports = Core;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t/* WEBPACK VAR INJECTION */(function(global) {(function(global){var to5Runtime=global.to5Runtime={};to5Runtime.extends=function(child,parent){child.prototype=Object.create(parent.prototype,{constructor:{value:child,enumerable:false,writable:true,configurable:true}});child.__proto__=parent};to5Runtime.classProps=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};to5Runtime.applyConstructor=function(Constructor,args){var instance=Object.create(Constructor.prototype);var result=Constructor.apply(instance,args);return result!=null&&(typeof result==\"object\"||typeof result==\"function\")?result:instance};to5Runtime.taggedTemplateLiteral=function(strings,raw){return Object.defineProperties(strings,{raw:{value:raw}})};to5Runtime.interopRequire=function(obj){return obj&&(obj[\"default\"]||obj)};to5Runtime.toArray=function(arr){return Array.isArray(arr)?arr:Array.from(arr)};to5Runtime.objectSpread=function(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target};to5Runtime.hasOwn=Object.prototype.hasOwnProperty;to5Runtime.slice=Array.prototype.slice})(typeof global===\"undefined\"?self:global);\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tvar Utils = (function () {\n\t  var Utils = function Utils() {};\n\t\n\t  Utils.formatMinutes = function (d) {\n\t    // convert milliseconds to seconds\n\t    d = d / 1000;\n\t    var hours = Math.floor(d / 3600);\n\t    var minutes = Math.floor((d - (hours * 3600)) / 60);\n\t    var seconds = d - (minutes * 60);\n\t    var output = seconds + \"s\";\n\t    if (minutes) {\n\t      output = minutes + \"m \" + output;\n\t    }\n\t    if (hours) {\n\t      output = hours + \"h \" + output;\n\t    }\n\t    return output;\n\t  };\n\t\n\t  Utils.getClosestTime = function (data, time, objectId, property_name, timer, tolerance) {\n\t    if (objectId === undefined) objectId = false;\n\t    if (property_name === undefined) property_name = false;\n\t    if (timer === undefined) timer = false;\n\t    if (tolerance === undefined) tolerance = 0.1;\n\t    if (timer) {\n\t      var timer_time = timer.getCurrentTime() / 1000;\n\t      if (Math.abs(timer_time - time) <= tolerance) {\n\t        return timer_time;\n\t      }\n\t    }\n\t\n\t    if (objectId || property_name) {\n\t      for (var i = 0; i < data.length; i++) {\n\t        var item = data[i];\n\t        // Don't match item with itself, but allow property to match item start/end.\n\t        if (item.id != objectId || property_name) {\n\t          // First check start & end.\n\t          if (Math.abs(item.start - time) <= tolerance) {\n\t            return item.start;\n\t          }\n\t\n\t          if (Math.abs(item.end - time) <= tolerance) {\n\t            return item.end;\n\t          }\n\t        }\n\t\n\t        // Test properties keys\n\t        for (var j = 0; j < item.properties.length; j++) {\n\t          var prop = item.properties[j];\n\t\n\t          // Don't match property with itself.\n\t          if (prop.keys && (item.id != objectId || prop.name != property_name)) {\n\t            for (var k = 0; k < prop.keys.length; k++) {\n\t              var key = prop.keys[k];\n\t              if (Math.abs(key.time - time) <= tolerance) {\n\t                return key.time;\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t    }\n\t    return false;\n\t  };\n\t\n\t  Utils.getPreviousKey = function (keys, time) {\n\t    var prevKey = false;\n\t    for (var i = 0; i < keys.length; i++) {\n\t      var key = keys[i];\n\t      if (key.time < time) {\n\t        prevKey = key;\n\t      } else {\n\t        return prevKey;\n\t      }\n\t    }\n\t    return prevKey;\n\t  };\n\t\n\t  Utils.sortKeys = function (keys) {\n\t    var compare = function (a, b) {\n\t      if (a.time < b.time) {\n\t        return -1;\n\t      }\n\t      if (a.time > b.time) {\n\t        return 1;\n\t      }\n\t      return 0;\n\t    };\n\t    return keys.sort(compare);\n\t  };\n\t\n\t  Utils.guid = function () {\n\t    var s4 = function () {\n\t      return Math.floor((1 + Math.random()) * 65536).toString(16).substring(1);\n\t    };\n\t    return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n\t  };\n\t\n\t  return Utils;\n\t})();\n\t\n\texports[\"default\"] = Utils;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Signals = __webpack_require__(5);\n\t\n\tvar Timer = (function () {\n\t  var Timer = function Timer(options) {\n\t    var _this = this;\n\t    if (options === undefined) options = {};\n\t    // in millisecond\n\t    this.totalDuration = options.totalDuration || 240 * 1000;\n\t    // Use an array for the time for easier d3.js integration (used as data for timeseeker).\n\t    this.time = [0];\n\t    this.is_playing = false;\n\t    this.last_timeStamp = -1;\n\t    this.last_time = -1;\n\t    this.updated = new Signals.Signal();\n\t    this.statusChanged = new Signals.Signal();\n\t    this.durationChanged = new Signals.Signal();\n\t    this.seeked = new Signals.Signal();\n\t    window.requestAnimationFrame(function (timestamp) {\n\t      return _this.update(timestamp);\n\t    });\n\t  };\n\t\n\t  Timer.prototype.getCurrentTime = function () {\n\t    return this.time[0];\n\t  };\n\t\n\t  Timer.prototype.getDuration = function () {\n\t    return this.totalDuration / 1000;\n\t  };\n\t\n\t  Timer.prototype.setDuration = function (seconds) {\n\t    this.totalDuration = seconds * 1000;\n\t    this.durationChanged.dispatch(seconds);\n\t  };\n\t\n\t  Timer.prototype.play = function () {\n\t    this.is_playing = true;\n\t    this.statusChanged.dispatch(this.is_playing);\n\t  };\n\t\n\t  Timer.prototype.stop = function () {\n\t    this.is_playing = false;\n\t    this.statusChanged.dispatch(this.is_playing);\n\t  };\n\t\n\t  Timer.prototype.toggle = function () {\n\t    this.is_playing = !this.is_playing;\n\t    this.statusChanged.dispatch(this.is_playing);\n\t  };\n\t\n\t  Timer.prototype.seek = function (time) {\n\t    this.time[0] = time[0];\n\t    this.seeked.dispatch(this.time[0]);\n\t  };\n\t\n\t  Timer.prototype.update = function (timestamp) {\n\t    var _this2 = this;\n\t    // Init timestamp\n\t    if (this.last_timeStamp == -1) {\n\t      this.last_timeStamp = timestamp;\n\t    }\n\t    var elapsed = timestamp - this.last_timeStamp;\n\t\n\t    if (this.is_playing) {\n\t      this.time[0] += elapsed;\n\t    }\n\t\n\t    if (this.time[0] >= this.totalDuration) {\n\t      // Stop timer when reaching the end.\n\t      this.time[0] = this.totalDuration;\n\t      this.stop();\n\t    }\n\t\n\t    this.updated.dispatch(this.time[0]);\n\t\n\t    this.last_timeStamp = timestamp;\n\t    this.last_time = this.time[0];\n\t    window.requestAnimationFrame(function (timestamp) {\n\t      return _this2.update(timestamp);\n\t    });\n\t  };\n\t\n\t  return Timer;\n\t})();\n\t\n\texports[\"default\"] = Timer;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tvar Signals = __webpack_require__(5);\n\tvar TweenMax = __webpack_require__(7);\n\t\n\tvar Orchestrator = (function () {\n\t  var Orchestrator = function Orchestrator(timer, data) {\n\t    this.update = this.update.bind(this);\n\t    this.timer = timer;\n\t    this.data = data;\n\t    this.mainTimeline = new TimelineMax({ paused: true });\n\t    this.onUpdate = new Signals.Signal();\n\t    this.timer.updated.add(this.update);\n\t    this.update(0);\n\t  };\n\t\n\t  Orchestrator.prototype.getTotalDuration = function () {\n\t    return this.mainTimeline.totalDuration();\n\t  };\n\t\n\t  Orchestrator.prototype.getEasing = function (key) {\n\t    if (key === undefined) key = false;\n\t    if (key && key.ease) {\n\t      var ease_index = key.ease.split(\".\");\n\t      if (ease_index.length == 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]) {\n\t        return window[ease_index[0]][ease_index[1]];\n\t      }\n\t    }\n\t    return Quad.easeOut;\n\t  };\n\t\n\t  Orchestrator.prototype.initSpecialProperties = function (item) {\n\t    // Add a dom element for color tweening and other css properties.\n\t    item._domHelper = document.createElement(\"div\");\n\t    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t      var property = item.properties[property_key];\n\t      // Setup special properties\n\t      if (property.type && property.type == \"color\") {\n\t        // If the property is a color mark it as css\n\t        property.css = true;\n\t      }\n\t\n\t      if (property.css) {\n\t        // If property is a css or a color value apply it to the domHelper element.\n\t        item._domHelper.style[property.name] = property.val;\n\t      }\n\t    }\n\t  };\n\t\n\t  Orchestrator.prototype.initItemValues = function (item) {\n\t    item.values = {};\n\t    //item._isDirty = true\n\t    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n\t      var property = item.properties[property_key];\n\t      if (property.keys.length) {\n\t        // Take the value of the first key as initial value.\n\t        // this.todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n\t        property.val = property.keys[0].val;\n\t      }\n\t      item.values[property.name] = property.val;\n\t    }\n\t  };\n\t\n\t  Orchestrator.prototype.update = function (timestamp) {\n\t    var seconds = timestamp / 1000;\n\t    var has_dirty_items = false;\n\t    var i, item, property, property_key;\n\t\n\t    for (i = 0; i < this.data.length; i++) {\n\t      item = this.data[i];\n\t      if (!item._domHelper) {\n\t        this.initSpecialProperties(item);\n\t      }\n\t\n\t      // create the values object to contain all properties\n\t      if (!item.values) {\n\t        this.initItemValues(item);\n\t      }\n\t\n\t      // Create the timeline if needed\n\t      if (!item._timeline) {\n\t        item._timeline = new TimelineMax();\n\t        this.mainTimeline.add(item._timeline, 0);\n\t        item._isDirty = true;\n\t      }\n\t\n\t      if (item._isDirty) {\n\t        has_dirty_items = true;\n\t      }\n\t\n\t      if (item._timeline && item._isDirty && item.properties) {\n\t        item._isDirty = false;\n\t        //item._timeline.clear();\n\t\n\t        for (property_key = 0; property_key < item.properties.length; property_key++) {\n\t          property = item.properties[property_key];\n\t          if (property._timeline) {\n\t            property._timeline.clear();\n\t          } else {\n\t            property._timeline = new TimelineMax();\n\t            item._timeline.add(property._timeline, 0);\n\t          }\n\t\n\t          var propertyTimeline = property._timeline;\n\t          var propName = property.name;\n\t\n\t          // If there is no key stop there and set value to default.\n\t          if (!property.keys.length) {\n\t            item.values[property.name] = property.val;\n\t            continue;\n\t          }\n\t\n\t          // Set the data values target object.\n\t          var data_target = item.values;\n\t          // Add a inital key, even if there is no animation to set the value from time 0.\n\t          var first_key = property.keys[0];\n\t\n\t          var tween_time = 0;\n\t          if (first_key) {\n\t            tween_time = Math.min(-1, first_key.time - 0.1);\n\t          }\n\t\n\t          var tween_duration = 0;\n\t          var val = {};\n\t          var easing = this.getEasing();\n\t          val.ease = easing;\n\t\n\t          if (property.css) {\n\t            data_target = item._domHelper;\n\t            val.css = {};\n\t            val.css[propName] = first_key ? first_key.val : property.val;\n\t          } else {\n\t            val[propName] = first_key ? first_key.val : property.val;\n\t          }\n\t\n\t          var tween = TweenMax.to(data_target, tween_duration, val);\n\t          propertyTimeline.add(tween, tween_time);\n\t\n\t          for (var key_index = 0; key_index < property.keys.length; key_index++) {\n\t            var key = property.keys[key_index];\n\t\n\t            if (key_index < property.keys.length - 1) {\n\t              var next_key = property.keys[key_index + 1];\n\t              tween_duration = next_key.time - key.time;\n\t\n\t              val = {};\n\t              easing = this.getEasing(next_key);\n\t              val.ease = easing;\n\t              if (property.css) {\n\t                val.css = {};\n\t                val.css[propName] = next_key.val;\n\t              } else {\n\t                val[propName] = next_key.val;\n\t              }\n\t\n\t              tween = TweenMax.to(data_target, tween_duration, val);\n\t              propertyTimeline.add(tween, key.time);\n\t            }\n\t          }\n\t\n\t          // Directly seek the property timeline to update the value.\n\t          propertyTimeline.seek(seconds);\n\t        }\n\t        // Force main timeline to refresh but never try to go to < 0\n\t        // to prevent glitches when current time is 0.\n\t        if (seconds > 0) {\n\t          seconds = seconds - 1e-7;\n\t        } else {\n\t          seconds = seconds + 1e-7;\n\t        }\n\t      }\n\t    }\n\t\n\t    // Finally update the main timeline.\n\t    this.mainTimeline.seek(seconds);\n\t\n\t    // update the css properties.\n\t    for (i = 0; i < this.data.length; i++) {\n\t      item = this.data[i];\n\t      for (property_key = 0; property_key < item.properties.length; property_key++) {\n\t        property = item.properties[property_key];\n\t        if (property.css && property.keys.length) {\n\t          // Only css values.\n\t          item.values[property.name] = item._domHelper.style[property.name];\n\t        }\n\t      }\n\t    }\n\t\n\t    if (has_dirty_items) {\n\t      this.onUpdate.dispatch();\n\t    }\n\t  };\n\t\n\t  return Orchestrator;\n\t})();\n\t\n\texports[\"default\"] = Orchestrator;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** TweenTime.Core.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0ef0f654a923fd379fe9\n **/","import '6to5/runtime';\nvar _ = require('lodash');\n\nimport Utils from './core/Utils';\nimport Timer from './core/Timer';\nimport Orchestrator from './core/Orchestrator';\n\nclass Core {\n  constructor(data, options = {}) {\n    this.data = data;\n    this.options = options;\n    this.timer = new Timer(options);\n    this.orchestrator = new Orchestrator(this.timer, this.data);\n  }\n\n  getItem(item_id) {\n    // In case we passed the item object directly return it.\n    if (item_id && typeof item_id == 'object') {\n      return item_id;\n    }\n\n    return _.find(this.data, (item) => item.id == item_id);\n  }\n\n  getProperty(prop_name, item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    item_id_or_obj = this.getItem(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!item_id_or_obj) {\n      return false;\n    }\n\n    return _.find(item_id_or_obj.properties, property => property.name == prop_name);\n  }\n\n  getValues(item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    item_id_or_obj = this.getItem(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!item_id_or_obj) {\n      return undefined;\n    }\n\n    return item_id_or_obj.values;\n  }\n\n  getValue(prop_name, item_id_or_obj) {\n    // If we passed the item name get the object from it.\n    var values = this.getValues(item_id_or_obj);\n\n    // Return false if we have no item\n    if (!values) {\n      return undefined;\n    }\n\n    if (values[prop_name] !== undefined) {\n      return values[prop_name];\n    }\n    else {\n      return undefined;\n    }\n  }\n\n  getKeyAt(property, time_in_seconds) {\n    return _.find(property.keys, key => key.time == time_in_seconds);\n  }\n\n  setValue(property, new_val, time_in_seconds = false) {\n    if (time_in_seconds === false) {\n      time_in_seconds = this.timer.getCurrentTime() / 1000;\n    }\n    var key = this.getKeyAt(property, time_in_seconds);\n\n    if (key) {\n      // If we found a key, simply update the value.\n      key.val = new_val;\n    }\n    else {\n      if (property.keys.length === 0) {\n        // If the property doesn't have any key simply the the value.\n        property.val = new_val;\n      }\n      else {\n        // If we are not on a key but the property has other keys,\n        // create it and add it to the keys array.\n        key = {val: new_val, time: time_in_seconds, _property: property};\n        if (this.options.defaultEase) {\n          key.ease = this.options.defaultEase;\n        }\n        property.keys.push(key);\n        // Also sort the keys.\n        property.keys = Utils.sortKeys(property.keys);\n      }\n    }\n  }\n\n  getTotalDuration() {\n    return this.orchestrator.getTotalDuration();\n  }\n}\n\nmodule.exports = Core;\n\n\n\n/** WEBPACK FOOTER **\n ** ./Core.js\n **/","(function(global){var to5Runtime=global.to5Runtime={};to5Runtime.extends=function(child,parent){child.prototype=Object.create(parent.prototype,{constructor:{value:child,enumerable:false,writable:true,configurable:true}});child.__proto__=parent};to5Runtime.classProps=function(child,staticProps,instanceProps){if(staticProps)Object.defineProperties(child,staticProps);if(instanceProps)Object.defineProperties(child.prototype,instanceProps)};to5Runtime.applyConstructor=function(Constructor,args){var instance=Object.create(Constructor.prototype);var result=Constructor.apply(instance,args);return result!=null&&(typeof result==\"object\"||typeof result==\"function\")?result:instance};to5Runtime.taggedTemplateLiteral=function(strings,raw){return Object.defineProperties(strings,{raw:{value:raw}})};to5Runtime.interopRequire=function(obj){return obj&&(obj[\"default\"]||obj)};to5Runtime.toArray=function(arr){return Array.isArray(arr)?arr:Array.from(arr)};to5Runtime.objectSpread=function(obj,keys){var target={};for(var i in obj){if(keys.indexOf(i)>=0)continue;if(!Object.prototype.hasOwnProperty.call(obj,i))continue;target[i]=obj[i]}return target};to5Runtime.hasOwn=Object.prototype.hasOwnProperty;to5Runtime.slice=Array.prototype.slice})(typeof global===\"undefined\"?self:global);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** /Users/david/Sites/TweenTime/~/6to5/runtime.js\n ** module id = 1\n ** module chunks = 0\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}\n ** module id = 2\n ** module chunks = 0 1\n **/","export default class Utils {\n  static formatMinutes(d) {\n    // convert milliseconds to seconds\n    d = d / 1000;\n    var hours = Math.floor(d / 3600);\n    var minutes = Math.floor((d - (hours * 3600)) / 60);\n    var seconds = d - (minutes * 60);\n    var output = seconds + \"s\";\n    if (minutes) {\n      output = minutes + \"m \" + output;\n    }\n    if (hours) {\n      output = hours + \"h \" + output;\n    }\n    return output;\n  }\n\n  static getClosestTime(data, time, objectId = false, property_name = false, timer = false, tolerance = 0.1) {\n    if (timer) {\n      var timer_time = timer.getCurrentTime() / 1000;\n      if (Math.abs(timer_time - time) <= tolerance) {\n        return timer_time;\n      }\n    }\n\n    if (objectId || property_name) {\n      for (var i = 0; i < data.length; i++) {\n        var item = data[i];\n        // Don't match item with itself, but allow property to match item start/end.\n        if (item.id != objectId || property_name) {\n          // First check start & end.\n          if (Math.abs(item.start - time) <= tolerance) {\n            return item.start;\n          }\n\n          if (Math.abs(item.end - time) <= tolerance) {\n            return item.end;\n          }\n        }\n\n        // Test properties keys\n        for (var j = 0; j < item.properties.length; j++) {\n          var prop = item.properties[j];\n\n          // Don't match property with itself.\n          if (prop.keys && (item.id != objectId || prop.name != property_name)) {\n            for (var k = 0; k < prop.keys.length; k++) {\n              var key = prop.keys[k];\n              if (Math.abs(key.time - time) <= tolerance) {\n                return key.time;\n              }\n            }\n          }\n        }\n      }\n    }\n    return false;\n  }\n\n  static getPreviousKey(keys, time) {\n    var prevKey = false;\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      if (key.time < time) {\n        prevKey = key;\n      }\n      else {\n        return prevKey;\n      }\n    }\n    return prevKey;\n  }\n\n  static sortKeys(keys) {\n    var compare = function (a, b) {\n      if (a.time < b.time) {\n        return -1;\n      }\n      if (a.time > b.time) {\n        return 1;\n      }\n      return 0;\n    };\n    return keys.sort(compare);\n  }\n\n  static guid() {\n    var s4 = function() {\n      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    };\n    return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Utils.js\n **/","let Signals = require('js-signals');\n\nexport default class Timer {\n  constructor (options = {}) {\n    // in millisecond\n    this.totalDuration = options.totalDuration || 240 * 1000;\n    // Use an array for the time for easier d3.js integration (used as data for timeseeker).\n    this.time = [0];\n    this.is_playing = false;\n    this.last_timeStamp = -1;\n    this.last_time = -1;\n    this.updated = new Signals.Signal();\n    this.statusChanged = new Signals.Signal();\n    this.durationChanged = new Signals.Signal();\n    this.seeked = new Signals.Signal();\n    window.requestAnimationFrame((timestamp) => this.update(timestamp));\n  }\n\n  getCurrentTime() {\n    return this.time[0];\n  }\n\n  getDuration() {\n    return this.totalDuration / 1000;\n  }\n\n  setDuration(seconds) {\n    this.totalDuration = seconds * 1000;\n    this.durationChanged.dispatch(seconds);\n  }\n\n  play() {\n    this.is_playing = true;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  stop() {\n    this.is_playing = false;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  toggle() {\n    this.is_playing = !this.is_playing;\n    this.statusChanged.dispatch(this.is_playing);\n  }\n\n  seek(time) {\n    this.time[0] = time[0];\n    this.seeked.dispatch(this.time[0]);\n  }\n\n  update(timestamp) {\n    // Init timestamp\n    if (this.last_timeStamp == -1) {\n      this.last_timeStamp = timestamp;\n    }\n    var elapsed = timestamp - this.last_timeStamp;\n\n    if (this.is_playing) {\n      this.time[0] += elapsed;\n    }\n\n    if (this.time[0] >= this.totalDuration) {\n      // Stop timer when reaching the end.\n      this.time[0] = this.totalDuration;\n      this.stop();\n    }\n\n    this.updated.dispatch(this.time[0]);\n\n    this.last_timeStamp = timestamp;\n    this.last_time = this.time[0];\n    window.requestAnimationFrame((timestamp) => this.update(timestamp));\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Timer.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"signals\",\"commonjs\":\"./signals\",\"amd\":\"signals\"}\n ** module id = 5\n ** module chunks = 0 1\n **/","let Signals = require('js-signals');\nlet TweenMax = require('gsap');\n\nexport default class Orchestrator {\n  constructor(timer, data) {\n    this.update = this.update.bind(this);\n    this.timer = timer;\n    this.data = data;\n    this.mainTimeline = new TimelineMax({paused: true});\n    this.onUpdate = new Signals.Signal();\n    this.timer.updated.add(this.update);\n    this.update(0);\n  }\n\n  getTotalDuration() {\n    return this.mainTimeline.totalDuration();\n  }\n\n  getEasing(key = false) {\n    if (key && key.ease) {\n      var ease_index = key.ease.split('.');\n      if (ease_index.length == 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]) {\n        return window[ease_index[0]][ease_index[1]];\n      }\n    }\n    return Quad.easeOut;\n  }\n\n  initSpecialProperties(item) {\n    // Add a dom element for color tweening and other css properties.\n    item._domHelper = document.createElement('div');\n    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n      var property = item.properties[property_key];\n      // Setup special properties\n      if (property.type && property.type == \"color\") {\n        // If the property is a color mark it as css\n        property.css = true;\n      }\n\n      if (property.css) {\n        // If property is a css or a color value apply it to the domHelper element.\n        item._domHelper.style[property.name] = property.val;\n      }\n    }\n  }\n\n  initItemValues(item) {\n    item.values = {};\n    //item._isDirty = true\n    for (var property_key = 0; property_key < item.properties.length; property_key++) {\n      var property = item.properties[property_key];\n      if (property.keys.length) {\n        // Take the value of the first key as initial value.\n        // this.todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n        property.val = property.keys[0].val;\n      }\n      item.values[property.name] = property.val;\n    }\n  }\n\n  update(timestamp) {\n    var seconds = timestamp / 1000;\n    var has_dirty_items = false;\n    var i, item, property, property_key;\n\n    for (i = 0; i < this.data.length; i++) {\n      item = this.data[i];\n      if (!item._domHelper) {\n        this.initSpecialProperties(item);\n      }\n\n      // create the values object to contain all properties\n      if (!item.values) {\n        this.initItemValues(item);\n      }\n\n      // Create the timeline if needed\n      if (!item._timeline) {\n        item._timeline = new TimelineMax();\n        this.mainTimeline.add(item._timeline, 0);\n        item._isDirty = true;\n      }\n\n      if (item._isDirty) {\n        has_dirty_items = true;\n      }\n\n      if (item._timeline && item._isDirty && item.properties) {\n        item._isDirty = false;\n        //item._timeline.clear();\n\n        for (property_key = 0; property_key < item.properties.length; property_key++) {\n          property = item.properties[property_key];\n          if (property._timeline) {\n            property._timeline.clear();\n          }\n          else {\n            property._timeline = new TimelineMax();\n            item._timeline.add(property._timeline, 0);\n          }\n\n          var propertyTimeline = property._timeline;\n          var propName = property.name;\n\n          // If there is no key stop there and set value to default.\n          if (!property.keys.length) {\n            item.values[property.name] = property.val;\n            continue;\n          }\n\n          // Set the data values target object.\n          var data_target = item.values;\n          // Add a inital key, even if there is no animation to set the value from time 0.\n          var first_key = property.keys[0];\n\n          var tween_time = 0;\n          if (first_key) {\n            tween_time = Math.min(-1, first_key.time - 0.1);\n          }\n\n          var tween_duration = 0;\n          var val = {};\n          var easing = this.getEasing();\n          val.ease = easing;\n\n          if (property.css) {\n            data_target = item._domHelper;\n            val.css = {};\n            val.css[propName] = first_key ? first_key.val : property.val;\n          }\n          else {\n            val[propName] = first_key ? first_key.val : property.val;\n          }\n\n          var tween = TweenMax.to(data_target, tween_duration, val);\n          propertyTimeline.add(tween, tween_time);\n\n          for (var key_index = 0; key_index < property.keys.length; key_index++) {\n            var key = property.keys[key_index];\n\n            if (key_index < property.keys.length - 1) {\n              var next_key = property.keys[key_index + 1];\n              tween_duration = next_key.time - key.time;\n\n              val = {};\n              easing = this.getEasing(next_key);\n              val.ease = easing;\n              if (property.css) {\n                val.css = {};\n                val.css[propName] = next_key.val;\n              }\n              else {\n                val[propName] = next_key.val;\n              }\n\n              tween = TweenMax.to(data_target, tween_duration, val);\n              propertyTimeline.add(tween, key.time);\n            }\n          }\n\n          // Directly seek the property timeline to update the value.\n          propertyTimeline.seek(seconds);\n        }\n        // Force main timeline to refresh but never try to go to < 0\n        // to prevent glitches when current time is 0.\n        if (seconds > 0) {\n          seconds = seconds - 0.0000001;\n        }\n        else {\n          seconds = seconds + 0.0000001;\n        }\n      }\n    }\n\n    // Finally update the main timeline.\n    this.mainTimeline.seek(seconds);\n\n    // update the css properties.\n    for (i = 0; i < this.data.length; i++) {\n      item = this.data[i];\n      for (property_key = 0; property_key < item.properties.length; property_key++) {\n        property = item.properties[property_key];\n        if (property.css && property.keys.length) {\n          // Only css values.\n          item.values[property.name] = item._domHelper.style[property.name];\n        }\n      }\n    }\n\n    if (has_dirty_items) {\n      this.onUpdate.dispatch();\n    }\n  }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Orchestrator.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"TweenMax\",\"commonjs\":\"TweenMax\",\"commonjs2\":\"TweenMax\",\"amd\":\"TweenMax\"}\n ** module id = 7\n ** module chunks = 0\n **/"],"sourceRoot":""}