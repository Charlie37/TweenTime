!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("lodash"),require(void 0),require("TweenMax")):"function"==typeof define&&define.amd?define(["lodash","signals","TweenMax"],e):"object"==typeof exports?exports.Core=e(require("lodash"),require("./signals"),require("TweenMax")):(t.TweenTime=t.TweenTime||{},t.TweenTime.Core=e(t._,t.signals,t.TweenMax))}(this,function(t,e,i){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var n=i(1),r=i(2)["default"],a=i(3)["default"],s=i(4)["default"],o=function(){var t=function(t){this.data=t,this.timer=new a,this.orchestrator=new s(this.timer,this.data)};return t.prototype.getItem=function(t){return null!=t&&"object"==typeof t?t:n.find(this.data,function(e){return e.id==t})},t.prototype.getProperty=function(t,e){return e=this.getItem(e),e?n.find(e.properties,function(e){return e.name==t}):!1},t.prototype.getValues=function(t){return t=this.getItem(t),t?t.values:void 0},t.prototype.getValue=function(t,e){var i=this.getValues(e);return i&&null!=i[t]?i[t]:void 0},t.prototype.getKeyAt=function(t,e){return n.find(t.keys,function(t){return t.time==e})},t.prototype.setValue=function(t,e,i){void 0===i&&(i=!1),i===!1&&(i=this.timer.getCurrentTime()/1e3);var n=this.getKeyAt(t,i);n?n.val=e:(n={val:e,time:i},t.keys.push(n),t.keys=r.sortKeys(t.keys))},t.prototype.getTotalDuration=function(){return this.orchestrator.getTotalDuration()},t}();e["default"]=o,t.exports=o},function(e){e.exports=t},function(t,e){"use strict";var i=function(){var t=function(){};return t.formatMinutes=function(t){t/=1e3;var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),n=t-60*i,r=n+"s";return i&&(r=i+"m "+r),e&&(r=e+"h "+r),r},t.getClosestTime=function(t,e,i,n,r,a){if(void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===a&&(a=.1),r){var s=r.getCurrentTime()/1e3;if(Math.abs(s-e)<=a)return s}if(i||n)for(var o=0;o<t.length;o++){var l=t[o];if(l.id!=i||n){if(Math.abs(l.start-e)<=a)return l.start;if(Math.abs(l.end-e)<=a)return l.end}for(var u=0;u<l.properties.length;u++){var c=l.properties[u];if(c.keys&&(l.id!=i||c.name!=n))for(var h=0;h<c.keys;h++){var p=c.keys[h];if(Math.abs(p.time-e)<=a)return p.time}}}return!1},t.getPreviousKey=function(t,e){for(var i=!1,n=0;n<t.length;n++){var r=t[n];if(!(r.time<e))return i;i=r}return i},t.sortKeys=function(t){var e=function(t,e){return t.time<e.time?-1:t.time>e.time?1:0};return t.sort(e)},t.guid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}();e["default"]=i},function(t,e,i){"use strict";var n=i(12),r=function(){var t=function(){var t=this;this.totalDuration=24e4,this.time=[0],this.is_playing=!1,this.last_timeStamp=-1,this.last_time=-1,this.updated=new n.Signal,this.statusChanged=new n.Signal,this.durationChanged=new n.Signal,this.seeked=new n.Signal,window.requestAnimationFrame(function(e){return t.update(e)})};return t.prototype.getCurrentTime=function(){return this.time[0]},t.prototype.getDuration=function(){return this.totalDuration/1e3},t.prototype.setDuration=function(t){this.totalDuration=1e3*t,this.durationChanged.dispatch(t)},t.prototype.play=function(){this.is_playing=!0,this.statusChanged.dispatch(this.is_playing)},t.prototype.stop=function(){this.is_playing=!1,this.statusChanged.dispatch(this.is_playing)},t.prototype.toggle=function(){this.is_playing=!this.is_playing,this.statusChanged.dispatch(this.is_playing)},t.prototype.seek=function(t){this.time[0]=t[0],this.seeked.dispatch(this.time[0])},t.prototype.update=function(t){var e=this;-1==this.last_timeStamp&&(this.last_timeStamp=t);var i=t-this.last_timeStamp;this.is_playing&&(this.time[0]+=i),this.time[0]>=this.totalDuration&&(this.time[0]=this.totalDuration,this.stop()),this.updated.dispatch(this.time[0]),this.last_timeStamp=t,this.last_time=this.time[0],window.requestAnimationFrame(function(t){return e.update(t)})},t}();e["default"]=r},function(t,e,i){"use strict";var n=i(12),r=i(13),a=function(){var t=function(t,e){this.update=this.update.bind(this),this.timer=t,this.data=e,this.mainTimeline=new TimelineMax({paused:!0}),this.onUpdate=new n.Signal,this.timer.updated.add(this.update),this.update(0)};return t.prototype.getTotalDuration=function(){return this.mainTimeline.totalDuration()},t.prototype.getEasing=function(t){if(void 0===t&&(t=!1),t&&t.ease){var e=t.ease.split(".");if(2==e.length&&window[e[0]]&&window[e[0]][e[1]])return window[e[0]][e[1]]}return Quad.easeOut},t.prototype.initSpecialProperties=function(t){t._domHelper=document.createElement("div");for(var e=0;e<t.properties.length;e++){var i=t.properties[e];i.type&&"color"==i.type&&(i.css=!0),i.css&&(t._domHelper.style[i.name]=i.val)}},t.prototype.initItemValues=function(t){t.values={};for(var e=0;e<t.properties.length;e++){var i=t.properties[e];i.keys.length&&(i.val=i.keys[0].val),t.values[i.name]=i.val}},t.prototype.update=function(t){for(var e=t/1e3,i=!1,n=0;n<this.data.length;n++){var a=this.data[n];if(a._domHelper||this.initSpecialProperties(a),a.values||this.initItemValues(a),a._timeline||(a._timeline=new TimelineMax,this.mainTimeline.add(a._timeline,0),a._isDirty=!0),a._isDirty&&(i=!0),a._timeline&&a._isDirty&&a.properties){a._isDirty=!1;for(var s=0;s<a.properties.length;s++){var o=a.properties[s];o._timeline?o._timeline.clear():(o._timeline=new TimelineMax,a._timeline.add(o._timeline,0));var l=o._timeline,u=o.name,c=o.keys.length?o.keys[0]:!1,h=0;c&&(h=Math.min(-1,c.time-.1));var p=0,d={},f=this.getEasing();d.ease=f;var m=a.values;o.css?(d.css={},d.css[u]=c?c.val:o.val,m=a._domHelper):d[u]=c?c.val:o.val;var v=r.to(m,p,d);l.add(v,h);for(var g=0;g<o.keys.length;g++){var y=o.keys[g];if(g<o.keys.length-1){var b=o.keys[g+1];p=b.time-y.time,d={},f=this.getEasing(b),d.ease=f,o.css?(d.css={},d.css[u]=b.val):d[u]=b.val,v=r.to(m,p,d),l.add(v,y.time)}}l.seek(e)}e>0?e-=1e-7:e+=1e-7}}this.mainTimeline.seek(e);for(var n=0;n<this.data.length;n++)for(var a=this.data[n],s=0;s<a.properties.length;s++){var o=a.properties[s];o.css&&(a.values[o.name]=a._domHelper.style[o.name])}i&&this.onUpdate.dispatch()},t}();e["default"]=a},,,,,,,,function(t){t.exports=e},function(t){t.exports=i}])});
//# sourceMappingURL=TweenTime.Core.js.map