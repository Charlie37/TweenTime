!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("lodash"),require(void 0),require("TweenMax")):"function"==typeof define&&define.amd?define(["lodash","signals","TweenMax"],e):"object"==typeof exports?exports.Core=e(require("lodash"),require("./signals"),require("TweenMax")):(t.TweenTime=t.TweenTime||{},t.TweenTime.Core=e(t._,t.signals,t.TweenMax))}(this,function(t,e,i){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";var n=i(1),r=i(2)["default"],s=i(3)["default"],a=i(4)["default"],o=function(){var t=function(t,e){void 0===e&&(e={}),this.data=t,this.timer=new s(e),this.orchestrator=new a(this.timer,this.data)};return t.prototype.getItem=function(t){return null!=t&&"object"==typeof t?t:n.find(this.data,function(e){return e.id==t})},t.prototype.getProperty=function(t,e){return e=this.getItem(e),e?n.find(e.properties,function(e){return e.name==t}):!1},t.prototype.getValues=function(t){return t=this.getItem(t),t?t.values:void 0},t.prototype.getValue=function(t,e){var i=this.getValues(e);return i&&null!=i[t]?i[t]:void 0},t.prototype.getKeyAt=function(t,e){return n.find(t.keys,function(t){return t.time==e})},t.prototype.setValue=function(t,e,i){void 0===i&&(i=!1),i===!1&&(i=this.timer.getCurrentTime()/1e3);var n=this.getKeyAt(t,i);n?n.val=e:(n={val:e,time:i},t.keys.push(n),t.keys=r.sortKeys(t.keys))},t.prototype.getTotalDuration=function(){return this.orchestrator.getTotalDuration()},t}();e["default"]=o,t.exports=o},function(e){e.exports=t},function(t,e){"use strict";var i=function(){var t=function(){};return t.formatMinutes=function(t){t/=1e3;var e=Math.floor(t/3600),i=Math.floor((t-3600*e)/60),n=t-60*i,r=n+"s";return i&&(r=i+"m "+r),e&&(r=e+"h "+r),r},t.getClosestTime=function(t,e,i,n,r,s){if(void 0===i&&(i=!1),void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===s&&(s=.1),r){var a=r.getCurrentTime()/1e3;if(Math.abs(a-e)<=s)return a}if(i||n)for(var o=0;o<t.length;o++){var u=t[o];if(u.id!=i||n){if(Math.abs(u.start-e)<=s)return u.start;if(Math.abs(u.end-e)<=s)return u.end}for(var p=0;p<u.properties.length;p++){var l=u.properties[p];if(l.keys&&(u.id!=i||l.name!=n))for(var h=0;h<l.keys;h++){var d=l.keys[h];if(Math.abs(d.time-e)<=s)return d.time}}}return!1},t.getPreviousKey=function(t,e){for(var i=!1,n=0;n<t.length;n++){var r=t[n];if(!(r.time<e))return i;i=r}return i},t.sortKeys=function(t){var e=function(t,e){return t.time<e.time?-1:t.time>e.time?1:0};return t.sort(e)},t.guid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t}();e["default"]=i},function(t,e,i){"use strict";var n=i(12),r=function(){var t=function(t){var e=this;void 0===t&&(t={}),this.totalDuration=t.totalDuration||24e4,this.time=[0],this.is_playing=!1,this.last_timeStamp=-1,this.last_time=-1,this.updated=new n.Signal,this.statusChanged=new n.Signal,this.durationChanged=new n.Signal,this.seeked=new n.Signal,window.requestAnimationFrame(function(t){return e.update(t)})};return t.prototype.getCurrentTime=function(){return this.time[0]},t.prototype.getDuration=function(){return this.totalDuration/1e3},t.prototype.setDuration=function(t){this.totalDuration=1e3*t,this.durationChanged.dispatch(t)},t.prototype.play=function(){this.is_playing=!0,this.statusChanged.dispatch(this.is_playing)},t.prototype.stop=function(){this.is_playing=!1,this.statusChanged.dispatch(this.is_playing)},t.prototype.toggle=function(){this.is_playing=!this.is_playing,this.statusChanged.dispatch(this.is_playing)},t.prototype.seek=function(t){this.time[0]=t[0],this.seeked.dispatch(this.time[0])},t.prototype.update=function(t){var e=this;-1==this.last_timeStamp&&(this.last_timeStamp=t);var i=t-this.last_timeStamp;this.is_playing&&(this.time[0]+=i),this.time[0]>=this.totalDuration&&(this.time[0]=this.totalDuration,this.stop()),this.updated.dispatch(this.time[0]),this.last_timeStamp=t,this.last_time=this.time[0],window.requestAnimationFrame(function(t){return e.update(t)})},t}();e["default"]=r},function(t,e,i){"use strict";var n=i(12),r=i(13),s=function(){var t=function(t,e){this.update=this.update.bind(this),this.timer=t,this.data=e,this.mainTimeline=new TimelineMax({paused:!0}),this.onUpdate=new n.Signal,this.timer.updated.add(this.update),this.update(0)};return t.prototype.getTotalDuration=function(){return this.mainTimeline.totalDuration()},t.prototype.getEasing=function(t){if(void 0===t&&(t=!1),t&&t.ease){var e=t.ease.split(".");if(2==e.length&&window[e[0]]&&window[e[0]][e[1]])return window[e[0]][e[1]]}return Quad.easeOut},t.prototype.initSpecialProperties=function(t){t._domHelper=document.createElement("div");for(var e=0;e<t.properties.length;e++){var i=t.properties[e];i.type&&"color"==i.type&&(i.css=!0),i.css&&(t._domHelper.style[i.name]=i.val)}},t.prototype.initItemValues=function(t){t.values={};for(var e=0;e<t.properties.length;e++){var i=t.properties[e];i.keys.length&&(i.val=i.keys[0].val),t.values[i.name]=i.val}},t.prototype.update=function(t){for(var e=t/1e3,i=!1,n=0;n<this.data.length;n++){var s=this.data[n];if(s._domHelper||this.initSpecialProperties(s),s.values||this.initItemValues(s),s._timeline||(s._timeline=new TimelineMax,this.mainTimeline.add(s._timeline,0),s._isDirty=!0),s._isDirty&&(i=!0),s._timeline&&s._isDirty&&s.properties){s._isDirty=!1;for(var a=0;a<s.properties.length;a++){var o=s.properties[a];o._timeline?o._timeline.clear():(o._timeline=new TimelineMax,s._timeline.add(o._timeline,0));var u=o._timeline,p=o.name,l=s.values;if(o.css&&(l=s._domHelper),o.keys.length){var h=o.keys[0],d=0;h&&(d=Math.min(-1,h.time-.1));var f=0,m={},c=this.getEasing();m.ease=c,o.css?(m.css={},m.css[p]=h?h.val:o.val):m[p]=h?h.val:o.val;var v=r.to(l,f,m);u.add(v,d);for(var g=0;g<o.keys.length;g++){var y=o.keys[g];if(g<o.keys.length-1){var _=o.keys[g+1];f=_.time-y.time,m={},c=this.getEasing(_),m.ease=c,o.css?(m.css={},m.css[p]=_.val):m[p]=_.val,v=r.to(l,f,m),u.add(v,y.time)}}u.seek(e)}else l[p]=o.val}e>0?e-=1e-7:e+=1e-7}}this.mainTimeline.seek(e);for(var n=0;n<this.data.length;n++)for(var s=this.data[n],a=0;a<s.properties.length;a++){var o=s.properties[a];o.css&&(s.values[o.name]=s._domHelper.style[o.name])}i&&this.onUpdate.dispatch()},t}();e["default"]=s},,,,,,,,function(t){t.exports=e},function(t){t.exports=i}])});
//# sourceMappingURL=TweenTime.Core.min.js.map