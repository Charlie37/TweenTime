{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///TweenTime.Core.js","webpack:///webpack/bootstrap 63566c7c88ac5fd100de","webpack:///./Core.coffee","webpack:///external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}","webpack:///./core/Utils.coffee","webpack:///./core/Timer.coffee","webpack:///./core/Orchestrator.coffee","webpack:///external {\"root\":\"signals\",\"commonjs\":\"./signals\",\"amd\":\"signals\"}","webpack:///external {\"root\":\"TweenMax\",\"commonjs\":\"TweenMax\",\"commonjs2\":\"TweenMax\",\"amd\":\"TweenMax\"}"],"names":["root","factory","exports","module","require","undefined","define","amd","this","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_13__","__WEBPACK_EXTERNAL_MODULE_14__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Core","Orchestrator","Timer","Utils","_","__bind","fn","me","apply","arguments","data","getTotalDuration","setValue","getKeyAt","getValue","getValues","getProperty","getItem","timer","orchestrator","prototype","item_id","find","item","prop_name","item_id_or_obj","properties","property","name","values","time_in_seconds","keys","key","time","new_val","getCurrentTime","val","push","sortKeys","formatMinutes","d","hours","minutes","output","seconds","Math","floor","getClosestTime","objectId","property_name","tolerance","prop","timer_time","_i","_j","_k","_len","_len1","_len2","_ref","_ref1","abs","length","start","end","getPreviousKey","prevKey","compare","a","b","sort","guid","s4","random","toString","substring","Signals","update","totalDuration","is_playing","last_timeStamp","last_time","updated","Signal","statusChanged","durationChanged","seeked","window","requestAnimationFrame","getDuration","setDuration","dispatch","play","stop","toggle","seek","timestamp","elapsed","TweenMax","mainTimeline","TimelineMax","paused","onUpdate","add","getEasing","ease_index","ease","split","Quad","easeOut","initSpecialProperties","_results","_domHelper","document","createElement","type","css","style","initItemValues","data_target","easing","first_key","has_dirty_items","key_index","next_key","propName","propertyTimeline","tween","tween_duration","tween_time","_l","_len3","_len4","_m","_ref2","_ref3","_ref4","_timeline","_isDirty","clear","min","to"],"mappings":"CAAA,SAAAA,EAAAC,GACA,gBAAAC,UAAA,gBAAAC,QACAA,OAAAD,QAAAD,EAAAG,QAAA,UAAAA,QAAAC,QAAAD,QAAA,aACA,kBAAAE,gBAAAC,IACAD,QAAA,+BAAAL,GACA,gBAAAC,SACAA,QAAA,KAAAD,EAAAG,QAAA,UAAAA,QAAA,aAAAA,QAAA,cAEAJ,EAAA,UAAAA,EAAA,cAA6CA,EAAA,eAAAC,EAAAD,EAAA,EAAAA,EAAA,QAAAA,EAAA,YAC5CQ,KAAA,SAAAC,EAAAC,EAAAC,GACD,MCAgB,UAAUC,GCN1B,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAZ,OAGA,IAAAC,GAAAY,EAAAD,IACAZ,WACAc,GAAAF,EACAG,QAAA,EAUA,OANAL,GAAAE,GAAAI,KAAAf,EAAAD,QAAAC,IAAAD,QAAAW,GAGAV,EAAAc,QAAA,EAGAd,EAAAD,QAvBA,GAAAa,KAqCA,OATAF,GAAAM,EAAAP,EAGAC,EAAAO,EAAAL,EAGAF,EAAAQ,EAAA,GAGAR,EAAA,KDgBM,SAASV,EAAQD,EAASW,GEtDhC,GAAAS,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,SAAAC,EAAAC,GAAA,wBAAAD,GAAAE,MAAAD,EAAAE,YAAAL,GAAIb,EAAQ,GAAZY,EACQZ,EAAQ,GADhBW,EAEQX,EAAQ,GAFhBU,EAGeV,EAAQ,GAHvBS,EAAA,WAMe,QAAAA,GAAEU,GAADxB,KAACwB,OACbxB,KAAAyB,iBAAAN,EAAAnB,KAAAyB,iBAAAzB,WAAA0B,SAAAP,EAAAnB,KAAA0B,SAAA1B,WAAA2B,SAAAR,EAAAnB,KAAA2B,SAAA3B,WAAA4B,SAAAT,EAAAnB,KAAA4B,SAAA5B,WAAA6B,UAAAV,EAAAnB,KAAA6B,UAAA7B,WAAA8B,YAAAX,EAAAnB,KAAA8B,YAAA9B,WAAA+B,QAAAZ,EAAAnB,KAAA+B,QAAA/B,WAACgC,MAAY,GAAAhB,GACbhB,KAACiC,aAAmB,GAAAlB,GAAaf,KAACgC,MAAOhC,KAACwB,MFgJ3C,MElJDV,GAAAoB,UAIAH,QAAS,SAACI,GAER,MAAc,QAAXA,GAAqC,gBAAlBA,GACbA,EAEFjB,EAAEkB,KAAKpC,KAACwB,KAAM,SAACa,GFuEnB,MEvE4BA,GAAK7B,KAAM2B,KAT5CrB,EAAAoB,UAWAJ,YAAa,SAACQ,EAAWC,GAKvB,MAHAA,GAAiBvC,KAAC+B,QAAQQ,GAGvBA,EAEIrB,EAAEkB,KAAKG,EAAeC,WAAY,SAACC,GACxC,MAAOA,GAASC,OAAQJ,KAHK,GAhBjCxB,EAAAoB,UAsBAL,UAAW,SAACU,GAKV,MAHAA,GAAiBvC,KAAC+B,QAAQQ,GAGvBA,EAEIA,EAAeI,OAFS,QA3BjC7B,EAAAoB,UA+BAN,SAAU,SAACU,EAAWC,GAEpB,GAAAI,EAGA,OAHAA,GAAS3C,KAAC6B,UAAUU,GAGjBI,GAEA,MAAAA,EAAAL,GAA+BK,EAAOL,GAFlB,QApCzBxB,EAAAoB,UAwCAP,SAAU,SAACc,EAAUG,GACnB,MAAO1B,GAAEkB,KAAKK,EAASI,KAAM,SAACC,GAC5B,MAAOA,GAAIC,OAAQH,KA1CvB9B,EAAAoB,UA6CAR,SAAU,SAACe,EAAUO,EAASJ,GAC5B,GAAAE,EAGA,OF0EwB,OAAnBF,IE9EuBA,GAAkB,GAC3CA,KAAmB,IAAWA,EAAkB5C,KAACgC,MAAMiB,iBAAmB,KAC7EH,EAAM9C,KAAC2B,SAASc,EAAUG,GAEvBE,EAEDA,EAAII,IAAMF,GAGVF,GAAOI,IAAKF,EAASD,KAAMH,GAC3BH,EAASI,KAAKM,KAAKL,GAEnBL,EAASI,KAAO5B,EAAMmC,SAASX,EAASI,QAzD5C/B,EAAAoB,UA2DAT,iBAAkB,WAAM,MAAOzB,MAACiC,aAAaR,oBFuFrCX,KExJVnB,EAmEOD,QAAUoB,GF8FX,SAASnB,GGjKfA,EAAAD,QAAAO,GHuKM,SAASN,GIvKf,GAAAsB,KAAA,WJ4KG,QAASA,MAuGT,MIlRDA,GAACoC,cAAe,SAACC,GAEf,GAAAC,GAAAC,EAAAC,EAAAC,CAOA,OAPAJ,IAAQ,IACRC,EAAQI,KAAKC,MAAMN,EAAI,MACvBE,EAAUG,KAAKC,OAAON,EAAa,KAARC,GAAiB,IAC5CG,EAAUJ,EAAe,GAAVE,EACfC,EAASC,EAAU,IACkBF,IAArCC,EAASD,EAAU,KAAOC,GACSF,IAAnCE,EAASF,EAAQ,KAAOE,GACjBA,GAETxC,EAAC4C,eAAgB,SAACrC,EAAMuB,EAAMe,EAAkBC,EAAuB/B,EAAegC,GACpF,GAAA3B,GAAAS,EAAAmB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,CAAA,IJmLiB,MAAZZ,IIpLuBA,GAAW,GJuLjB,MAAjBC,IIvLyCA,GAAgB,GJ0LhD,MAAT/B,II1LgEA,GAAQ,GJ6L3D,MAAbgC,II7L+EA,EAAY,IAC7FhC,IACDkC,EAAalC,EAAMiB,iBAAmB,IACnCU,KAAKgB,IAAIT,EAAanB,IAASiB,GAChC,MAAOE,EAEX,IAAGJ,GAAYC,EACb,IAAAI,EAAA,EAAAG,EAAA9C,EAAAoD,OAAAN,EAAAH,MAAA,CAEE,GJ+LC9B,EAAOb,EAAK2C,GI/LV9B,EAAK7B,KAAMsD,GAAYC,EAA1B,CAEE,GAAGJ,KAAKgB,IAAItC,EAAKwC,MAAQ9B,IAASiB,EAChC,MAAO3B,GAAKwC,KACd,IAAGlB,KAAKgB,IAAItC,EAAKyC,IAAM/B,IAASiB,EAC9B,MAAO3B,GAAKyC,IAGhB,IAAAL,EAAApC,EAAAG,WAAA4B,EAAA,EAAAG,EAAAE,EAAAG,OAAAL,EAAAH,MAEE,GJgMCH,EAAOQ,EAAKL,GIhMVH,EAAKpB,OAASR,EAAK7B,KAAMsD,GAAYG,EAAKvB,OAAQqB,GACnD,IAAAW,EAAAT,EAAApB,KAAAwB,EAAA,EAAAG,EAAAE,EAAAE,OAAAJ,EAAAH,MACE,GJkMCvB,EAAM4B,EAAML,GIlMVV,KAAKgB,IAAI7B,EAAIC,KAAOA,IAASiB,EAC9B,MAAOlB,GAAIC,KAEvB,OAAO,GAET9B,EAAC8D,eAAgB,SAAClC,EAAME,GACtB,GAAAD,GAAAkC,EAAAb,EAAAG,CACA,KADAU,GAAU,EACVb,EAAA,EAAAG,EAAAzB,EAAA+B,OAAAN,EAAAH,MAAA,CACE,GJ0MCrB,EAAMD,EAAKsB,KI1MTrB,EAAIC,KAAOA,GAGZ,MAAOiC,EAFPA,GAAUlC,EAGd,MAAOkC,IAET/D,EAACmC,SAAU,SAACP,GACV,GAAAoC,EAIA,OAJAA,GAAU,SAACC,EAAGC,GACZ,MAAGD,GAAEnC,KAAOoC,EAAEpC,KAAiB,GAC5BmC,EAAEnC,KAAOoC,EAAEpC,KAAiB,EACxB,GACFF,EAAKuC,KAAKH,IAEnBhE,EAACoE,KAAM,WACL,GAAAC,EACA,OADAA,GAAK,WJuNF,MIvNQ3B,MAAKC,MAA4B,OAArB,EAAID,KAAK4B,WAAqBC,SAAS,IAAIC,UAAU,IACrEH,IAAOA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAAMA,IAAO,IAAMA,IAAOA,IAAOA,KJ2N1ErE,KInRVtB,EA0DOD,QAAUuB,GJkOX,SAAStB,EAAQD,EAASW,GK5RhC,GAAAqF,GAAA1E,EAAAG,EAAA,SAAAC,EAAAC,GAAA,wBAAAD,GAAAE,MAAAD,EAAAE,YAAAmE,GAAUrF,EAAQ,IAAlBW,EAAA,WAGe,QAAAA,KAEXhB,KAAA2F,OAAAxE,EAAAnB,KAAA2F,OAAA3F,WAAAiD,eAAA9B,EAAAnB,KAAAiD,eAAAjD,WAAC4F,cAAgB,KAEjB5F,KAAC+C,MAAQ,GACT/C,KAAC6F,YAAa,EACd7F,KAAC8F,eAAiB,GAClB9F,KAAC+F,UAAY,GACb/F,KAACgG,QAAc,GAAAN,GAAQO,OACvBjG,KAACkG,cAAoB,GAAAR,GAAQO,OAC7BjG,KAACmG,gBAAsB,GAAAT,GAAQO,OAC/BjG,KAACoG,OAAa,GAAAV,GAAQO,OACtBI,OAAOC,sBAAsBtG,KAAC2F,QLwV/B,MKpWD3E,GAAAkB,UAcAe,eAAgB,WLmSb,MKnSmBjD,MAAC+C,KAAK,IAd5B/B,EAAAkB,UAgBAqE,YAAa,WACX,MAAOvG,MAAC4F,cAAgB,KAjB1B5E,EAAAkB,UAmBAsE,YAAa,SAAC9C,GLuSX,MKtSD1D,MAAC4F,cAA0B,IAAVlC,EACjB1D,KAACmG,gBAAgBM,SAAS/C,IArB5B1C,EAAAkB,UAuBAwE,KAAM,WLwSH,MKvSD1G,MAAC6F,YAAa,EACd7F,KAACkG,cAAcO,SAASzG,KAAC6F,aAzB3B7E,EAAAkB,UA2BAyE,KAAM,WLySH,MKxSD3G,MAAC6F,YAAa,EACd7F,KAACkG,cAAcO,SAASzG,KAAC6F,aA7B3B7E,EAAAkB,UA+BA0E,OAAQ,WL0SL,MKzSD5G,MAAC6F,YAAa7F,KAAE6F,WAChB7F,KAACkG,cAAcO,SAASzG,KAAC6F,aAjC3B7E,EAAAkB,UAmCA2E,KAAM,SAAC9D,GL2SJ,MK1SD/C,MAAC+C,KAAK,GAAKA,EAAK,GAChB/C,KAACoG,OAAOK,SAASzG,KAAC+C,KAAK,KArCzB/B,EAAAkB,UAuCAyD,OAAQ,SAACmB,GAEP,GAAAC,ELwTC,OKxTqB,KAAnB/G,KAAC8F,iBAA0B9F,KAAC8F,eAAiBgB,GAChDC,EAAUD,EAAY9G,KAAC8F,eAEpB9F,KAAC6F,aACF7F,KAAC+C,KAAK,IAAMgE,GAEX/G,KAAC+C,KAAK,IAAM/C,KAAC4F,gBAEd5F,KAAC+C,KAAK,GAAK/C,KAAC4F,cACZ5F,KAAC2G,QAGH3G,KAACgG,QAAQS,SAASzG,KAAC+C,KAAK,IAExB/C,KAAC8F,eAAiBgB,EAClB9G,KAAC+F,UAAY/F,KAAC+C,KAAK,GACnBsD,OAAOC,sBAAsBtG,KAAC2F,SL2SxB3E,KKvWVrB,EA8DOD,QAAUsB,GLkTX,SAASrB,EAAQD,EAASW,GMhXhC,GAAAU,GAAA2E,EAAAsB,EAAA7F,EAAA,SAAAC,EAAAC,GAAA,wBAAAD,GAAAE,MAAAD,EAAAE,YAAAmE,GAAUrF,EAAQ,IAAlB2G,EACW3G,EAAQ,IADnBU,EAAA,WAIe,QAAAA,GAAEiB,EAAQR,GAATxB,KAACgC,QAAOhC,KAACwB,OACrBxB,KAAA2F,OAAAxE,EAAAnB,KAAA2F,OAAA3F,WAAAyB,iBAAAN,EAAAnB,KAAAyB,iBAAAzB,WAACiH,aAAmB,GAAAC,cAAaC,QAAQ,IACzCnH,KAACoH,SAAe,GAAA1B,GAAQO,OACxBjG,KAACgC,MAAMgE,QAAQqB,IAAIrH,KAAC2F,QACpB3F,KAAC2F,OAAO,GNqhBT,MMzhBD5E,GAAAmB,UAMAT,iBAAkB,WAAM,MAAOzB,MAACiH,aAAarB,iBAN7C7E,EAAAmB,UAQAoF,UAAW,SAACxE,GACV,GAAAyE,EAAA,ONgYY,OAAPzE,IMjYKA,GAAM,GACbA,GAAOA,EAAI0E,OACZD,EAAazE,EAAI0E,KAAKC,MAAM,KACJ,IAArBF,EAAW3C,QAAeyB,OAAOkB,EAAW,KAAOlB,OAAOkB,EAAW,IAAIA,EAAW,KAC9ElB,OAAOkB,EAAW,IAAIA,EAAW,IACrCG,KAAKC,SAbd5G,EAAAmB,UAeA0F,sBAAuB,SAACvF,GAEtB,GAAAS,GAAAL,EAAAgC,EAAAoD,CAAAxF,GAAKyF,WAAaC,SAASC,cAAc,OACzCvD,EAAApC,EAAAG,WAAAqF,INwYC,KMxYD/E,IAAA2B,GNyYGhC,EAAWgC,EAAK3B,GMvYdL,EAASwF,MAAyB,UAAjBxF,EAASwF,OAE3BxF,EAASyF,KAAM,GN0YdL,EAAS1E,KMxYTV,EAASyF,IAEV7F,EAAKyF,WAAWK,MAAM1F,EAASC,MAAQD,EAASS,INwYjC,OAGlB,OAAO2E,IMraV9G,EAAAmB,UA4BAkG,eAAgB,SAAC/F,GACf,GAAAS,GAAAL,EAAAgC,EAAAoD,CAAAxF,GAAKM,UAEL8B,EAAApC,EAAAG,WAAAqF,IN8YC,KM9YD/E,IAAA2B,GN+YGhC,EAAWgC,EAAK3B,GM9YdL,EAASI,KAAK+B,SAGfnC,EAASS,IAAMT,EAASI,KAAK,GAAGK,KAHlC2E,EAAA1E,KAIAd,EAAKM,OAAOF,EAASC,MAAQD,EAASS,INgZvC,OAAO2E,IMpbV9G,EAAAmB,UAsCAyD,OAAQ,SAACmB,GACP,GAAAuB,GAAAC,EAAAC,EAAAC,EAAAnG,EAAAS,EAAA2F,EAAAC,EAAAC,EAAAlG,EAAAmG,EAAAlF,EAAAmF,EAAAC,EAAAC,EAAA7F,EAAAiB,EAAAC,EAAAC,EAAA2E,EAAA1E,EAAAC,EAAAC,EAAAyE,EAAAC,EAAAC,EAAA1E,EAAAC,EAAA0E,EAAAC,EAAAC,CAGA,KAHA5F,EAAUoD,EAAY,IACtB0B,GAAkB,EAElB/D,EAAAzE,KAAAwB,KAAA2C,EAAA,EAAAG,EAAAG,EAAAG,OAAAN,EAAAH,MAcE,GNqYC9B,EAAOoC,EAAKN,GMlZV9B,EAAMyF,YAAgB9H,KAAC4H,sBAAsBvF,GAG7CA,EAAMM,QAAY3C,KAACoI,eAAe/F,GAGlCA,EAAMkH,YACPlH,EAAKkH,UAAgB,GAAArC,aACrBlH,KAACiH,aAAaI,IAAIhF,EAAKkH,UAAW,GAClClH,EAAKmH,UAAW,GAEfnH,EAAKmH,WAAchB,GAAkB,GAErCnG,EAAKkH,WAAclH,EAAKmH,UAAanH,EAAKG,WAA7C,CAIE,IAHAH,EAAKmH,UAAW,EAGhB9E,EAAArC,EAAAG,WAAA4B,EAAA,EAAAG,EAAAG,EAAAE,OAAAL,EAAAH,MAAA,CA8BE,INsXC3B,EAAWiC,EAAMN,GMnZf3B,EAAS8G,UACV9G,EAAS8G,UAAUE,SAEnBhH,EAAS8G,UAAgB,GAAArC,aACzB7E,EAAKkH,UAAUlC,IAAI5E,EAAS8G,UAAW,IAEzCX,EAAmBnG,EAAS8G,UAC5BZ,EAAWlG,EAASC,KAEpB6F,EAAe9F,EAASI,KAAK+B,OAAS,EAAOnC,EAASI,KAAK,IAAQ,EACnEkG,EAAa,EACVR,IACDQ,EAAapF,KAAK+F,IAAI,GAAInB,EAAUxF,KAAO,KAE7C+F,EAAiB,EACjB5F,KACAoF,EAAStI,KAACsH,YACVpE,EAAIsE,KAAOc,EACXD,EAAchG,EAAKM,OAChBF,EAASyF,KACVhF,EAAIgF,OACJhF,EAAIgF,IAAIS,GAAeJ,EAAeA,EAAUrF,IAAST,EAASS,IAClEmF,EAAchG,EAAKyF,YAEnB5E,EAAIyF,GAAeJ,EAAeA,EAAUrF,IAAST,EAASS,IAEhE2F,EAAQ7B,EAAS2C,GAAGtB,EAAaS,EAAgB5F,GACjD0F,EAAiBvB,IAAIwB,EAAOE,GAE5BK,EAAA3G,EAAAI,KAAA4F,EAAApE,EAAA,EAAAG,EAAA4E,EAAAxE,OAAAJ,EAAAH,EAAAoE,IAAApE,ENoZGvB,EAAMsG,EAAMX,GMnZVA,EAAYhG,EAASI,KAAK+B,OAAS,IACpC8D,EAAWjG,EAASI,KAAK4F,EAAY,GACrCK,EAAiBJ,EAAS3F,KAAOD,EAAIC,KAErCG,KACAoF,EAAStI,KAACsH,UAAUoB,GACpBxF,EAAIsE,KAAOc,EACR7F,EAASyF,KACVhF,EAAIgF,OACJhF,EAAIgF,IAAIS,GAAYD,EAASxF,KAE7BA,EAAIyF,GAAYD,EAASxF,IAE3B2F,EAAQ7B,EAAS2C,GAAGtB,EAAaS,EAAgB5F,GACjD0F,EAAiBvB,IAAIwB,EAAO/F,EAAIC,MAGpC6F,GAAiB/B,KAAKnD,GAGrBA,EAAU,EACXA,GAAoB,KAEpBA,GAAoB,KAM1B,IAHA1D,KAACiH,aAAaJ,KAAKnD,GAGnB2F,EAAArJ,KAAAwB,KAAAwH,EAAA,EAAAC,EAAAI,EAAAzE,OAAAqE,EAAAD,MACE,INkZC3G,EAAOgH,EAAML,GMlZdM,EAAAjH,EAAAG,WAAA2G,EAAA,EAAAD,EAAAI,EAAA1E,OAAAsE,EAAAC,MNqZG1G,EAAW6G,EAAMH,GMpZf1G,EAASyF,MAEV7F,EAAKM,OAAOF,EAASC,MAAQL,EAAKyF,WAAWK,MAAM1F,EAASC,MAElE,OAAG8F,GAAqBxI,KAACoH,SAASX,WAAlC,QN2ZM1F,KM7hBVpB,EAoIOD,QAAUqB,GNiaV,CACA,CACA,CACA,CACA,CACC,CACA,CACA,CAEF,SAASpB,GO9iBfA,EAAAD,QAAAQ,GPojBM,SAASP,GQpjBfA,EAAAD,QAAAS","file":"TweenTime.Core.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(undefined), require(\"TweenMax\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash\", \"signals\", \"TweenMax\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"lodash\"), require(\"./signals\"), require(\"TweenMax\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"_\"], root[\"signals\"], root[\"TweenMax\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash\"), require(undefined), require(\"TweenMax\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash\", \"signals\", \"TweenMax\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Core\"] = factory(require(\"lodash\"), require(\"./signals\"), require(\"TweenMax\"));\n\telse\n\t\troot[\"TweenTime\"] = root[\"TweenTime\"] || {}, root[\"TweenTime\"][\"Core\"] = factory(root[\"_\"], root[\"signals\"], root[\"TweenMax\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_13__, __WEBPACK_EXTERNAL_MODULE_14__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Core, Orchestrator, Timer, Utils, _,\n\t  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\t\n\t_ = __webpack_require__(1);\n\t\n\tUtils = __webpack_require__(2);\n\t\n\tTimer = __webpack_require__(3);\n\t\n\tOrchestrator = __webpack_require__(4);\n\t\n\tCore = (function() {\n\t  function Core(data) {\n\t    this.data = data;\n\t    this.getTotalDuration = __bind(this.getTotalDuration, this);\n\t    this.setValue = __bind(this.setValue, this);\n\t    this.getKeyAt = __bind(this.getKeyAt, this);\n\t    this.getValue = __bind(this.getValue, this);\n\t    this.getValues = __bind(this.getValues, this);\n\t    this.getProperty = __bind(this.getProperty, this);\n\t    this.getItem = __bind(this.getItem, this);\n\t    this.timer = new Timer();\n\t    this.orchestrator = new Orchestrator(this.timer, this.data);\n\t  }\n\t\n\t  Core.prototype.getItem = function(item_id) {\n\t    if (item_id !== null && typeof item_id === 'object') {\n\t      return item_id;\n\t    }\n\t    return _.find(this.data, function(item) {\n\t      return item.id === item_id;\n\t    });\n\t  };\n\t\n\t  Core.prototype.getProperty = function(prop_name, item_id_or_obj) {\n\t    item_id_or_obj = this.getItem(item_id_or_obj);\n\t    if (!item_id_or_obj) {\n\t      return false;\n\t    }\n\t    return _.find(item_id_or_obj.properties, function(property) {\n\t      return property.name === prop_name;\n\t    });\n\t  };\n\t\n\t  Core.prototype.getValues = function(item_id_or_obj) {\n\t    item_id_or_obj = this.getItem(item_id_or_obj);\n\t    if (!item_id_or_obj) {\n\t      return void 0;\n\t    }\n\t    return item_id_or_obj.values;\n\t  };\n\t\n\t  Core.prototype.getValue = function(prop_name, item_id_or_obj) {\n\t    var values;\n\t    values = this.getValues(item_id_or_obj);\n\t    if (!values) {\n\t      return void 0;\n\t    }\n\t    if (values[prop_name] != null) {\n\t      return values[prop_name];\n\t    } else {\n\t      return void 0;\n\t    }\n\t  };\n\t\n\t  Core.prototype.getKeyAt = function(property, time_in_seconds) {\n\t    return _.find(property.keys, function(key) {\n\t      return key.time === time_in_seconds;\n\t    });\n\t  };\n\t\n\t  Core.prototype.setValue = function(property, new_val, time_in_seconds) {\n\t    var key;\n\t    if (time_in_seconds == null) {\n\t      time_in_seconds = false;\n\t    }\n\t    if (time_in_seconds === false) {\n\t      time_in_seconds = this.timer.getCurrentTime() / 1000;\n\t    }\n\t    key = this.getKeyAt(property, time_in_seconds);\n\t    if (key) {\n\t      return key.val = new_val;\n\t    } else {\n\t      key = {\n\t        val: new_val,\n\t        time: time_in_seconds\n\t      };\n\t      property.keys.push(key);\n\t      return property.keys = Utils.sortKeys(property.keys);\n\t    }\n\t  };\n\t\n\t  Core.prototype.getTotalDuration = function() {\n\t    return this.orchestrator.getTotalDuration();\n\t  };\n\t\n\t  return Core;\n\t\n\t})();\n\t\n\tmodule.exports = Core;\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Utils;\n\t\n\tUtils = (function() {\n\t  function Utils() {}\n\t\n\t  Utils.formatMinutes = function(d) {\n\t    var hours, minutes, output, seconds;\n\t    d = d / 1000;\n\t    hours = Math.floor(d / 3600);\n\t    minutes = Math.floor((d - (hours * 3600)) / 60);\n\t    seconds = d - (minutes * 60);\n\t    output = seconds + \"s\";\n\t    if (minutes) {\n\t      output = minutes + \"m \" + output;\n\t    }\n\t    if (hours) {\n\t      output = hours + \"h \" + output;\n\t    }\n\t    return output;\n\t  };\n\t\n\t  Utils.getClosestTime = function(data, time, objectId, property_name, timer, tolerance) {\n\t    var item, key, prop, timer_time, _i, _j, _k, _len, _len1, _len2, _ref, _ref1;\n\t    if (objectId == null) {\n\t      objectId = false;\n\t    }\n\t    if (property_name == null) {\n\t      property_name = false;\n\t    }\n\t    if (timer == null) {\n\t      timer = false;\n\t    }\n\t    if (tolerance == null) {\n\t      tolerance = 0.1;\n\t    }\n\t    if (timer) {\n\t      timer_time = timer.getCurrentTime() / 1000;\n\t      if (Math.abs(timer_time - time) <= tolerance) {\n\t        return timer_time;\n\t      }\n\t    }\n\t    if (objectId || property_name) {\n\t      for (_i = 0, _len = data.length; _i < _len; _i++) {\n\t        item = data[_i];\n\t        if (item.id !== objectId || property_name) {\n\t          if (Math.abs(item.start - time) <= tolerance) {\n\t            return item.start;\n\t          }\n\t          if (Math.abs(item.end - time) <= tolerance) {\n\t            return item.end;\n\t          }\n\t        }\n\t        _ref = item.properties;\n\t        for (_j = 0, _len1 = _ref.length; _j < _len1; _j++) {\n\t          prop = _ref[_j];\n\t          if (prop.keys && (item.id !== objectId || prop.name !== property_name)) {\n\t            _ref1 = prop.keys;\n\t            for (_k = 0, _len2 = _ref1.length; _k < _len2; _k++) {\n\t              key = _ref1[_k];\n\t              if (Math.abs(key.time - time) <= tolerance) {\n\t                return key.time;\n\t              }\n\t            }\n\t          }\n\t        }\n\t      }\n\t    }\n\t    return false;\n\t  };\n\t\n\t  Utils.getPreviousKey = function(keys, time) {\n\t    var key, prevKey, _i, _len;\n\t    prevKey = false;\n\t    for (_i = 0, _len = keys.length; _i < _len; _i++) {\n\t      key = keys[_i];\n\t      if (key.time < time) {\n\t        prevKey = key;\n\t      } else {\n\t        return prevKey;\n\t      }\n\t    }\n\t    return prevKey;\n\t  };\n\t\n\t  Utils.sortKeys = function(keys) {\n\t    var compare;\n\t    compare = function(a, b) {\n\t      if (a.time < b.time) {\n\t        return -1;\n\t      }\n\t      if (a.time > b.time) {\n\t        return 1;\n\t      }\n\t      return 0;\n\t    };\n\t    return keys.sort(compare);\n\t  };\n\t\n\t  Utils.guid = function() {\n\t    var s4;\n\t    s4 = function() {\n\t      return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t    };\n\t    return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4();\n\t  };\n\t\n\t  return Utils;\n\t\n\t})();\n\t\n\tmodule.exports = Utils;\n\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Signals, Timer,\n\t  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\t\n\tSignals = __webpack_require__(13);\n\t\n\tTimer = (function() {\n\t  function Timer() {\n\t    this.update = __bind(this.update, this);\n\t    this.getCurrentTime = __bind(this.getCurrentTime, this);\n\t    this.totalDuration = 240 * 1000;\n\t    this.time = [0];\n\t    this.is_playing = false;\n\t    this.last_timeStamp = -1;\n\t    this.last_time = -1;\n\t    this.updated = new Signals.Signal();\n\t    this.statusChanged = new Signals.Signal();\n\t    this.durationChanged = new Signals.Signal();\n\t    this.seeked = new Signals.Signal();\n\t    window.requestAnimationFrame(this.update);\n\t  }\n\t\n\t  Timer.prototype.getCurrentTime = function() {\n\t    return this.time[0];\n\t  };\n\t\n\t  Timer.prototype.getDuration = function() {\n\t    return this.totalDuration / 1000;\n\t  };\n\t\n\t  Timer.prototype.setDuration = function(seconds) {\n\t    this.totalDuration = seconds * 1000;\n\t    return this.durationChanged.dispatch(seconds);\n\t  };\n\t\n\t  Timer.prototype.play = function() {\n\t    this.is_playing = true;\n\t    return this.statusChanged.dispatch(this.is_playing);\n\t  };\n\t\n\t  Timer.prototype.stop = function() {\n\t    this.is_playing = false;\n\t    return this.statusChanged.dispatch(this.is_playing);\n\t  };\n\t\n\t  Timer.prototype.toggle = function() {\n\t    this.is_playing = !this.is_playing;\n\t    return this.statusChanged.dispatch(this.is_playing);\n\t  };\n\t\n\t  Timer.prototype.seek = function(time) {\n\t    this.time[0] = time[0];\n\t    return this.seeked.dispatch(this.time[0]);\n\t  };\n\t\n\t  Timer.prototype.update = function(timestamp) {\n\t    var elapsed;\n\t    if (this.last_timeStamp === -1) {\n\t      this.last_timeStamp = timestamp;\n\t    }\n\t    elapsed = timestamp - this.last_timeStamp;\n\t    if (this.is_playing) {\n\t      this.time[0] += elapsed;\n\t    }\n\t    if (this.time[0] >= this.totalDuration) {\n\t      this.time[0] = this.totalDuration;\n\t      this.stop();\n\t    }\n\t    this.updated.dispatch(this.time[0]);\n\t    this.last_timeStamp = timestamp;\n\t    this.last_time = this.time[0];\n\t    return window.requestAnimationFrame(this.update);\n\t  };\n\t\n\t  return Timer;\n\t\n\t})();\n\t\n\tmodule.exports = Timer;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar Orchestrator, Signals, TweenMax,\n\t  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\t\n\tSignals = __webpack_require__(13);\n\t\n\tTweenMax = __webpack_require__(14);\n\t\n\tOrchestrator = (function() {\n\t  function Orchestrator(timer, data) {\n\t    this.timer = timer;\n\t    this.data = data;\n\t    this.update = __bind(this.update, this);\n\t    this.getTotalDuration = __bind(this.getTotalDuration, this);\n\t    this.mainTimeline = new TimelineMax({\n\t      paused: true\n\t    });\n\t    this.onUpdate = new Signals.Signal();\n\t    this.timer.updated.add(this.update);\n\t    this.update(0);\n\t  }\n\t\n\t  Orchestrator.prototype.getTotalDuration = function() {\n\t    return this.mainTimeline.totalDuration();\n\t  };\n\t\n\t  Orchestrator.prototype.getEasing = function(key) {\n\t    var ease_index;\n\t    if (key == null) {\n\t      key = false;\n\t    }\n\t    if (key && key.ease) {\n\t      ease_index = key.ease.split('.');\n\t      if (ease_index.length === 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]) {\n\t        return window[ease_index[0]][ease_index[1]];\n\t      }\n\t    }\n\t    return Quad.easeOut;\n\t  };\n\t\n\t  Orchestrator.prototype.initSpecialProperties = function(item) {\n\t    var key, property, _ref, _results;\n\t    item._domHelper = document.createElement('div');\n\t    _ref = item.properties;\n\t    _results = [];\n\t    for (key in _ref) {\n\t      property = _ref[key];\n\t      if (property.type && property.type === \"color\") {\n\t        property.css = true;\n\t      }\n\t      if (property.css) {\n\t        _results.push(item._domHelper.style[property.name] = property.val);\n\t      } else {\n\t        _results.push(void 0);\n\t      }\n\t    }\n\t    return _results;\n\t  };\n\t\n\t  Orchestrator.prototype.initItemValues = function(item) {\n\t    var key, property, _ref, _results;\n\t    item.values = {};\n\t    _ref = item.properties;\n\t    _results = [];\n\t    for (key in _ref) {\n\t      property = _ref[key];\n\t      if (property.keys.length) {\n\t        property.val = property.keys[0].val;\n\t      }\n\t      _results.push(item.values[property.name] = property.val);\n\t    }\n\t    return _results;\n\t  };\n\t\n\t  Orchestrator.prototype.update = function(timestamp) {\n\t    var data_target, easing, first_key, has_dirty_items, item, key, key_index, next_key, propName, property, propertyTimeline, seconds, tween, tween_duration, tween_time, val, _i, _j, _k, _l, _len, _len1, _len2, _len3, _len4, _m, _ref, _ref1, _ref2, _ref3, _ref4;\n\t    seconds = timestamp / 1000;\n\t    has_dirty_items = false;\n\t    _ref = this.data;\n\t    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t      item = _ref[_i];\n\t      if (!item._domHelper) {\n\t        this.initSpecialProperties(item);\n\t      }\n\t      if (!item.values) {\n\t        this.initItemValues(item);\n\t      }\n\t      if (!item._timeline) {\n\t        item._timeline = new TimelineMax();\n\t        this.mainTimeline.add(item._timeline, 0);\n\t        item._isDirty = true;\n\t      }\n\t      if (item._isDirty) {\n\t        has_dirty_items = true;\n\t      }\n\t      if (item._timeline && item._isDirty && item.properties) {\n\t        item._isDirty = false;\n\t        _ref1 = item.properties;\n\t        for (_j = 0, _len1 = _ref1.length; _j < _len1; _j++) {\n\t          property = _ref1[_j];\n\t          if (property._timeline) {\n\t            property._timeline.clear();\n\t          } else {\n\t            property._timeline = new TimelineMax();\n\t            item._timeline.add(property._timeline, 0);\n\t          }\n\t          propertyTimeline = property._timeline;\n\t          propName = property.name;\n\t          first_key = property.keys.length > 0 ? property.keys[0] : false;\n\t          tween_time = 0;\n\t          if (first_key) {\n\t            tween_time = Math.min(-1, first_key.time - 0.1);\n\t          }\n\t          tween_duration = 0;\n\t          val = {};\n\t          easing = this.getEasing();\n\t          val.ease = easing;\n\t          data_target = item.values;\n\t          if (property.css) {\n\t            val.css = {};\n\t            val.css[propName] = first_key ? first_key.val : property.val;\n\t            data_target = item._domHelper;\n\t          } else {\n\t            val[propName] = first_key ? first_key.val : property.val;\n\t          }\n\t          tween = TweenMax.to(data_target, tween_duration, val);\n\t          propertyTimeline.add(tween, tween_time);\n\t          _ref2 = property.keys;\n\t          for (key_index = _k = 0, _len2 = _ref2.length; _k < _len2; key_index = ++_k) {\n\t            key = _ref2[key_index];\n\t            if (key_index < property.keys.length - 1) {\n\t              next_key = property.keys[key_index + 1];\n\t              tween_duration = next_key.time - key.time;\n\t              val = {};\n\t              easing = this.getEasing(next_key);\n\t              val.ease = easing;\n\t              if (property.css) {\n\t                val.css = {};\n\t                val.css[propName] = next_key.val;\n\t              } else {\n\t                val[propName] = next_key.val;\n\t              }\n\t              tween = TweenMax.to(data_target, tween_duration, val);\n\t              propertyTimeline.add(tween, key.time);\n\t            }\n\t          }\n\t          propertyTimeline.seek(seconds);\n\t        }\n\t        if (seconds > 0) {\n\t          seconds = seconds - 0.0000001;\n\t        } else {\n\t          seconds = seconds + 0.0000001;\n\t        }\n\t      }\n\t    }\n\t    this.mainTimeline.seek(seconds);\n\t    _ref3 = this.data;\n\t    for (_l = 0, _len3 = _ref3.length; _l < _len3; _l++) {\n\t      item = _ref3[_l];\n\t      _ref4 = item.properties;\n\t      for (_m = 0, _len4 = _ref4.length; _m < _len4; _m++) {\n\t        property = _ref4[_m];\n\t        if (property.css) {\n\t          item.values[property.name] = item._domHelper.style[property.name];\n\t        }\n\t      }\n\t    }\n\t    if (has_dirty_items) {\n\t      return this.onUpdate.dispatch();\n\t    }\n\t  };\n\t\n\t  return Orchestrator;\n\t\n\t})();\n\t\n\tmodule.exports = Orchestrator;\n\n\n/***/ },\n/* 5 */,\n/* 6 */,\n/* 7 */,\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */,\n/* 12 */,\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tmodule.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n/***/ }\n/******/ ])\n});\n\n\n\n/** WEBPACK FOOTER **\n ** TweenTime.Core.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 63566c7c88ac5fd100de\n **/","_ = require 'lodash'\nUtils = require './core/Utils.coffee'\nTimer = require './core/Timer.coffee'\nOrchestrator = require './core/Orchestrator.coffee'\n\nclass Core\n  constructor: (@data) ->\n    @timer = new Timer()\n    @orchestrator = new Orchestrator(@timer, @data)\n\n  getItem: (item_id) =>\n    # In case we passed the item object directly return it.\n    if item_id != null && typeof item_id == 'object'\n      return item_id\n\n    return _.find(@data, (item) -> item.id == item_id)\n\n  getProperty: (prop_name, item_id_or_obj) =>\n    # If we passed the item name get the object from it.\n    item_id_or_obj = @getItem(item_id_or_obj)\n\n    # Return false if we have no item\n    if !item_id_or_obj then return false\n\n    return _.find(item_id_or_obj.properties, (property) ->\n      return property.name == prop_name\n    )\n\n  getValues: (item_id_or_obj) =>\n    # If we passed the item name get the object from it.\n    item_id_or_obj = @getItem(item_id_or_obj)\n\n    # Return false if we have no item\n    if !item_id_or_obj then return undefined\n\n    return item_id_or_obj.values\n\n  getValue: (prop_name, item_id_or_obj) =>\n    # If we passed the item name get the object from it.\n    values = @getValues(item_id_or_obj)\n\n    # Return false if we have no item\n    if !values then return undefined\n\n    if values[prop_name]? then return values[prop_name] else return undefined\n\n  getKeyAt: (property, time_in_seconds) =>\n    return _.find(property.keys, (key) ->\n      return key.time == time_in_seconds\n    )\n\n  setValue: (property, new_val, time_in_seconds = false) =>\n    if time_in_seconds == false then time_in_seconds = @timer.getCurrentTime() / 1000\n    key = @getKeyAt(property, time_in_seconds)\n\n    if key\n      # If we found a key, simply update the value.\n      key.val = new_val\n    else\n      # If no key, create it and add it to the array.\n      key = {val: new_val, time: time_in_seconds}\n      property.keys.push(key)\n      # Also sort the keys.\n      property.keys = Utils.sortKeys(property.keys)\n\n  getTotalDuration: () => return @orchestrator.getTotalDuration()\n\nmodule.exports = Core\n\n\n\n/** WEBPACK FOOTER **\n ** ./Core.coffee\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"_\",\"commonjs\":\"lodash\",\"commonjs2\":\"lodash\",\"amd\":\"lodash\"}\n ** module id = 1\n ** module chunks = 0 1\n **/","class Utils\n  @formatMinutes: (d) ->\n    # convert milliseconds to seconds\n    d = d / 1000\n    hours = Math.floor(d / 3600)\n    minutes = Math.floor((d - (hours * 3600)) / 60)\n    seconds = d - (minutes * 60)\n    output = seconds + \"s\"\n    output = minutes + \"m \" + output  if minutes\n    output = hours + \"h \" + output  if hours\n    return output\n\n  @getClosestTime: (data, time, objectId = false, property_name = false, timer = false, tolerance = 0.1) ->\n    if timer\n      timer_time = timer.getCurrentTime() / 1000\n      if Math.abs(timer_time - time) <= tolerance\n        return timer_time\n\n    if objectId || property_name\n      for item in data\n        # Don't match item with itself, but allow property to match item start/end.\n        if item.id != objectId || property_name\n          # First check start & end.\n          if Math.abs(item.start - time) <= tolerance\n            return item.start\n          if Math.abs(item.end - time) <= tolerance\n            return item.end\n\n        # Test properties keys\n        for prop in item.properties\n          # Don't match property with itself.\n          if prop.keys && (item.id != objectId || prop.name != property_name)\n            for key in prop.keys\n              if Math.abs(key.time - time) <= tolerance\n                return key.time\n\n    return false\n\n  @getPreviousKey: (keys, time) ->\n    prevKey = false\n    for key in keys\n      if key.time < time\n        prevKey = key\n      else\n        return prevKey\n    return prevKey\n\n  @sortKeys: (keys) ->\n    compare = (a, b) ->\n      if a.time < b.time then return -1\n      if a.time > b.time then return 1\n      return 0\n    return keys.sort(compare)\n\n  @guid: () ->\n    s4 = () -> Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1)\n    return s4() + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + \"-\" + s4() + s4() + s4()\n\nmodule.exports = Utils\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Utils.coffee\n **/","Signals = require 'js-signals'\n\nclass Timer\n  constructor: () ->\n    # in millisecond\n    @totalDuration = 240 * 1000\n    # Use an array for the time for easier d3.js integration (used as data for timeseeker).\n    @time = [0]\n    @is_playing = false\n    @last_timeStamp = -1\n    @last_time = -1\n    @updated = new Signals.Signal()\n    @statusChanged = new Signals.Signal()\n    @durationChanged = new Signals.Signal()\n    @seeked = new Signals.Signal()\n    window.requestAnimationFrame(@update)\n\n  getCurrentTime: () => @time[0]\n\n  getDuration: () ->\n    return @totalDuration / 1000\n\n  setDuration: (seconds) ->\n    @totalDuration = seconds * 1000\n    @durationChanged.dispatch(seconds)\n\n  play: () ->\n    @is_playing = true\n    @statusChanged.dispatch(@is_playing)\n\n  stop: () ->\n    @is_playing = false\n    @statusChanged.dispatch(@is_playing)\n\n  toggle: () ->\n    @is_playing = !@is_playing\n    @statusChanged.dispatch(@is_playing)\n\n  seek: (time) ->\n    @time[0] = time[0]\n    @seeked.dispatch(@time[0])\n\n  update: (timestamp) =>\n    # Init timestamp\n    if @last_timeStamp == -1 then @last_timeStamp = timestamp\n    elapsed = timestamp - @last_timeStamp\n\n    if @is_playing\n      @time[0] += elapsed\n\n    if @time[0] >= @totalDuration\n      # Stop timer when reaching the end.\n      @time[0] = @totalDuration\n      @stop()\n\n    #if @last_time != @time[0]\n    @updated.dispatch(@time[0])\n\n    @last_timeStamp = timestamp\n    @last_time = @time[0]\n    window.requestAnimationFrame(@update)\n\nmodule.exports = Timer\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Timer.coffee\n **/","Signals = require 'js-signals'\nTweenMax = require 'gsap'\n\nclass Orchestrator\n  constructor: (@timer, @data) ->\n    @mainTimeline = new TimelineMax({paused: true})\n    @onUpdate = new Signals.Signal()\n    @timer.updated.add(@update)\n    @update(0)\n\n  getTotalDuration: () => return @mainTimeline.totalDuration()\n\n  getEasing: (key = false) ->\n    if key && key.ease\n      ease_index = key.ease.split('.')\n      if ease_index.length == 2 && window[ease_index[0]] && window[ease_index[0]][ease_index[1]]\n        return window[ease_index[0]][ease_index[1]]\n    return Quad.easeOut\n\n  initSpecialProperties: (item) ->\n    # Add a dom element for color tweening and other css properties.\n    item._domHelper = document.createElement('div')\n    for key, property of item.properties\n      # Setup special properties\n      if property.type && property.type == \"color\"\n        # If the property is a color mark it as css\n        property.css = true\n\n      if property.css\n        # If property is a css or a color value apply it to the domHelper element.\n        item._domHelper.style[property.name] = property.val\n\n  initItemValues: (item) ->\n    item.values = {}\n    #item._isDirty = true\n    for key, property of item.properties\n      if property.keys.length\n        # Take the value of the first key as initial value.\n        # @todo: update this when the value of the first key change. (when rebuilding the timeline, simply delete item.values before item._timeline)\n        property.val = property.keys[0].val\n      item.values[property.name] = property.val\n\n  update: (timestamp) =>\n    seconds = timestamp / 1000\n    has_dirty_items = false\n\n    for item in @data\n      if !item._domHelper then @initSpecialProperties(item)\n\n      # create the values object to contain all properties\n      if !item.values then @initItemValues(item)\n\n      # Create the timeline if needed\n      if !item._timeline\n        item._timeline = new TimelineMax()\n        @mainTimeline.add(item._timeline, 0)\n        item._isDirty = true\n\n      if item._isDirty then has_dirty_items = true\n\n      if item._timeline and item._isDirty and item.properties\n        item._isDirty = false\n        #item._timeline.clear()\n\n        for property in item.properties\n          if property._timeline\n            property._timeline.clear()\n          else\n            property._timeline = new TimelineMax()\n            item._timeline.add(property._timeline, 0)\n\n          propertyTimeline = property._timeline\n          propName = property.name\n          # Add a inital key, even if there is no animation to set the value from time 0.\n          first_key = if property.keys.length > 0 then property.keys[0] else false\n          tween_time = 0\n          if first_key\n            tween_time = Math.min(-1, first_key.time - 0.1)\n\n          tween_duration = 0\n          val = {}\n          easing = @getEasing()\n          val.ease = easing\n          data_target = item.values\n          if property.css\n            val.css = {}\n            val.css[propName] = if first_key then first_key.val else property.val\n            data_target = item._domHelper\n          else\n            val[propName] = if first_key then first_key.val else property.val\n\n          tween = TweenMax.to(data_target, tween_duration, val)\n          propertyTimeline.add(tween, tween_time)\n\n          for key, key_index in property.keys\n            if key_index < property.keys.length - 1\n              next_key = property.keys[key_index + 1]\n              tween_duration = next_key.time - key.time\n\n              val = {}\n              easing = @getEasing(next_key)\n              val.ease = easing\n              if property.css\n                val.css = {}\n                val.css[propName] = next_key.val\n              else\n                val[propName] = next_key.val\n\n              tween = TweenMax.to(data_target, tween_duration, val)\n              propertyTimeline.add(tween, key.time)\n\n          # Directly seek the property timeline to update the value.\n          propertyTimeline.seek(seconds)\n        # Force main timeline to refresh but never try to go to < 0\n        # to prevent glitches when current time is 0.\n        if seconds > 0\n          seconds = seconds - 0.0000001\n        else\n          seconds = seconds + 0.0000001\n\n    # Finally update the main timeline.\n    @mainTimeline.seek(seconds)\n\n    # update the css properties.\n    for item in @data\n      for property in item.properties\n        if property.css\n          # Only css values.\n          item.values[property.name] = item._domHelper.style[property.name]\n\n    if has_dirty_items then @onUpdate.dispatch()\n\nmodule.exports = Orchestrator\n\n\n\n/** WEBPACK FOOTER **\n ** ./core/Orchestrator.coffee\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_13__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"signals\",\"commonjs\":\"./signals\",\"amd\":\"signals\"}\n ** module id = 13\n ** module chunks = 0 1\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_14__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"TweenMax\",\"commonjs\":\"TweenMax\",\"commonjs2\":\"TweenMax\",\"amd\":\"TweenMax\"}\n ** module id = 14\n ** module chunks = 0\n **/"],"sourceRoot":""}